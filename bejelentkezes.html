<!-- <!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bejelentkezés</title>
  <link rel="stylesheet" href="style/global-styles.css">
  <link rel="stylesheet" href="style/bejelentkezes.css">
</head>
<body>
  <div class="login-wrapper">
    <div class="glass-card login-card">
      <div class="login-header">
        <h1>Bejelentkezés</h1>
        <p>Az alkalmazásba való belépéshez add meg az adataidat</p>
      </div>

      <form id="loginForm" class="login-form">
        <div class="form-group">
          <label for="username">Felhasználónév</label>
          <input 
            type="text" 
            id="username" 
            placeholder="Add meg a felhasználónevedet"
            required
          >
        </div>

        <div class="form-group">
          <label for="password">Jelszó</label>
          <input 
            type="password" 
            id="password" 
            placeholder="Add meg a jelszavadat"
            required
          >
        </div>

        <button type="submit" class="btn-login">Bejelentkezés</button>
      </form>

      <div id="uzenet" class="message"></div>

      <div class="login-footer">
        <p>Még nincs fiókod? 
          <a href="regisztracio.html">Regisztrálj most</a>
        </p>
      </div>
    </div>
  </div>

  <script src="bejelentkezes.js"></script>
</body>
</html> -->

<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Királyság Kapuja</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&family=Uncial+Antiqua&family=IM+Fell+English:ital@0;1&family=Cinzel:wght@400;700;900&family=Cinzel+Decorative:wght@700&display=swap" rel="stylesheet">
  <style>

/* ═══════════════════════════════════════════════════
   ROOT
═══════════════════════════════════════════════════ */
*, *::before, *::after { box-sizing:border-box; margin:0; padding:0; }

:root {
  /* Sky palette */
  --sky-top:    #1a0a2e;
  --sky-mid:    #3d1c6e;
  --sky-hor:    #a0522d;
  --sky-dawn:   #ff7043;
  --sky-glow:   #ffb347;

  /* Ground */
  --grass-dark: #1a3a0a;
  --grass-mid:  #2d5a1b;
  --grass-lite: #4a7c2f;
  --dirt:       #5c3a1e;
  --path:       #8b6914;

  /* Card/parchment */
  --parch:      #f4e4b8;
  --parch-dark: #d4b896;
  --parch-mid:  #e8d4a0;
  --ink:        #2c1810;
  --ink-soft:   #5c3a28;
  --ink-faint:  #8b6048;
  --border-ink: #3d2010;

  /* Accents */
  --gold:       #c8960a;
  --gold-lite:  #f0c030;
  --gold-dark:  #7a5800;
  --red-crest:  #8b1a1a;
  --steel:      #8090a0;
  --steel-lite: #b0c0d0;
  --steel-dark: #404858;

  /* UI */
  --shadow:     rgba(0,0,0,0.5);
  --shadow-sm:  rgba(0,0,0,0.25);

  --font-title:   'Cinzel Decorative', serif;
  --font-heading: 'Cinzel', serif;
  --font-body:    'IM Fell English', serif;
  --font-label:   'Cinzel', serif;

  --ease-expo:   cubic-bezier(0.16,1,0.3,1);
  --ease-spring: cubic-bezier(0.34,1.56,0.64,1);
  --ease-bounce: cubic-bezier(0.68,-0.55,0.265,1.55);
}

html, body { width:100%; min-height:100vh; overflow-x:hidden; }

body {
  background: var(--sky-top);
  font-family: var(--font-body);
  cursor: default;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
}

/* ═══════════════════════════════════════════════════
   SKY — layered gradient with stars
═══════════════════════════════════════════════════ */
.sky {
  position: fixed;
  inset: 0;
  z-index: 0;
  background: linear-gradient(
    to bottom,
    #0d0520 0%,
    #1a0a2e 18%,
    #3d1c6e 38%,
    #7a3020 52%,
    #c05020 62%,
    #e07830 70%,
    #f0a050 76%,
    #f8c070 82%,
    #ffe090 88%,
    #fff5c0 100%
  );
  animation: skyShift 12s ease-in-out infinite alternate;
}
@keyframes skyShift {
  0%   { filter: brightness(0.85) hue-rotate(-5deg); }
  100% { filter: brightness(1.05) hue-rotate(5deg); }
}

/* ── STARS ── */
.stars {
  position: fixed;
  inset: 0 0 40% 0;
  z-index: 1;
  pointer-events: none;
  overflow: hidden;
}
.star-dot {
  position: absolute;
  border-radius: 50%;
  background: #fff;
  animation: twinkle var(--d,3s) ease-in-out var(--dl,0s) infinite alternate;
}
@keyframes twinkle {
  from { opacity:0.1; transform:scale(0.6); }
  to   { opacity:0.9; transform:scale(1.2); }
}

/* ── MOON ── */
.moon {
  position: fixed;
  top: 6%;
  right: 12%;
  width: 70px;
  height: 70px;
  z-index: 2;
  animation: moonFloat 8s ease-in-out infinite alternate;
}
.moon-body {
  width: 70px; height: 70px;
  border-radius: 50%;
  background: radial-gradient(circle at 35% 35%, #fffde0, #e8d070);
  box-shadow: 0 0 30px rgba(255,240,100,0.6), 0 0 80px rgba(255,220,50,0.3);
}
.moon-body::before {
  content:'';
  position:absolute;
  top:12px; left:15px;
  width:16px; height:14px;
  border-radius:50%;
  background:rgba(180,160,40,0.3);
  box-shadow: 18px 8px 0 rgba(180,160,40,0.2), 8px 22px 0 rgba(180,160,40,0.25);
}
@keyframes moonFloat {
  from { transform:translateY(0) rotate(-3deg); filter:brightness(0.9); }
  to   { transform:translateY(-12px) rotate(3deg); filter:brightness(1.1); }
}

/* ── MOON GLOW HALO ── */
.moon-glow {
  position: absolute;
  inset: -30px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255,240,100,0.15) 0%, transparent 70%);
  animation: moonGlow 4s ease-in-out infinite alternate;
}
@keyframes moonGlow {
  from { transform:scale(1); opacity:0.7; }
  to   { transform:scale(1.2); opacity:1; }
}

/* ── CLOUDS ── */
.cloud {
  position: fixed;
  z-index: 2;
  pointer-events: none;
  animation: cloudDrift var(--cd, 60s) linear infinite;
  opacity: 0.7;
}
.cloud svg { display:block; }
@keyframes cloudDrift {
  from { transform:translateX(-300px); }
  to   { transform:translateX(calc(100vw + 300px)); }
}

/* ═══════════════════════════════════════════════════
   BACKGROUND LANDSCAPE — 2D ILLUSTRATED LAYERS
═══════════════════════════════════════════════════ */

/* ── FAR MOUNTAINS ── */
.mountains {
  position: fixed;
  bottom: 28%;
  left: 0; right: 0;
  z-index: 3;
  pointer-events: none;
}
.mountains svg { width:100%; display:block; }

/* ── VILLAGE SILHOUETTE ── */
.village-far {
  position: fixed;
  bottom: 22%;
  left: 0; right: 0;
  z-index: 4;
  pointer-events: none;
  animation: villageSway 20s ease-in-out infinite alternate;
}
@keyframes villageSway {
  from { filter: brightness(0.85); }
  to   { filter: brightness(1.0); }
}

/* ── TREES BACK ROW ── */
.trees-back {
  position: fixed;
  bottom: 18%;
  left: 0; right: 0;
  z-index: 5;
  pointer-events: none;
}

/* ── GROUND LAYERS ── */
.ground-far {
  position: fixed;
  bottom: 0; left: 0; right: 0;
  height: 32%;
  z-index: 6;
  background: linear-gradient(to bottom, var(--grass-dark) 0%, #0f2008 100%);
  clip-path: polygon(0 15%, 8% 8%, 15% 12%, 22% 6%, 30% 10%, 38% 4%, 45% 9%, 52% 3%, 60% 8%, 68% 2%, 75% 7%, 82% 1%, 90% 6%, 100% 3%, 100% 100%, 0 100%);
}

.ground-mid {
  position: fixed;
  bottom: 0; left: 0; right: 0;
  height: 22%;
  z-index: 7;
  background: linear-gradient(to bottom, var(--grass-mid) 0%, #1a3008 100%);
  clip-path: polygon(0 20%, 5% 12%, 12% 18%, 20% 8%, 28% 16%, 36% 6%, 44% 14%, 52% 5%, 60% 13%, 68% 3%, 76% 11%, 84% 4%, 92% 12%, 100% 5%, 100% 100%, 0 100%);
}

.ground-near {
  position: fixed;
  bottom: 0; left: 0; right: 0;
  height: 13%;
  z-index: 8;
  background: linear-gradient(to bottom, var(--grass-lite) 0%, var(--grass-mid) 100%);
  clip-path: polygon(0 30%, 4% 18%, 9% 25%, 15% 10%, 22% 22%, 29% 8%, 36% 20%, 43% 6%, 50% 18%, 57% 4%, 64% 16%, 71% 5%, 78% 18%, 85% 7%, 92% 20%, 100% 10%, 100% 100%, 0 100%);
}

/* ── FOREGROUND TREES ── */
.trees-fore {
  position: fixed;
  bottom: 10%;
  left: 0; right: 0;
  z-index: 9;
  pointer-events: none;
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  padding: 0 20px;
}

/* ── PATH ── */
.path-ground {
  position: fixed;
  bottom: 0; left: 0; right: 0;
  height: 11%;
  z-index: 10;
  pointer-events: none;
}
.path-ground svg { width:100%; height:100%; }

/* ── FIREFLIES ── */
.firefly {
  position: fixed;
  width: 5px; height: 5px;
  border-radius: 50%;
  background: #c8ff60;
  z-index: 11;
  pointer-events: none;
  box-shadow: 0 0 6px #c8ff60, 0 0 12px rgba(200,255,96,0.5);
  animation:
    fireflyMove var(--fm, 8s) ease-in-out var(--fd, 0s) infinite alternate,
    fireflyBlink var(--fb, 1.5s) ease-in-out var(--fd, 0s) infinite alternate;
}
@keyframes fireflyMove {
  0%   { transform:translate(0,0); }
  25%  { transform:translate(30px,-20px); }
  50%  { transform:translate(-20px,-40px); }
  75%  { transform:translate(40px,-10px); }
  100% { transform:translate(-10px,-30px); }
}
@keyframes fireflyBlink {
  0%,100% { opacity:0.1; }
  50%      { opacity:0.9; }
}

/* ═══════════════════════════════════════════════════
   EXPLOSION INTRO
═══════════════════════════════════════════════════ */
.flash-white {
  position:fixed; inset:0;
  background:#fff8e0;
  z-index:9999; pointer-events:none;
  animation:flashBoom 1.2s ease-out both;
}
@keyframes flashBoom { 0%,45%{opacity:1;} 100%{opacity:0;} }

.crash-text {
  position:fixed; top:50%; left:50%;
  font-family: var(--font-title);
  font-size: clamp(40px, 10vw, 110px);
  color: var(--gold);
  letter-spacing: 0.08em;
  pointer-events:none; z-index:400; opacity:0; white-space:nowrap;
  text-shadow: 0 0 30px rgba(255,180,0,0.8), 3px 3px 0 var(--ink);
  animation:crashBoom 1.2s var(--ease-expo) 0.4s both;
}
@keyframes crashBoom {
  0%  {opacity:0;transform:translate(-50%,-50%) scale(4) rotate(-3deg);filter:blur(20px);}
  25% {opacity:1;filter:blur(0);}
  65% {opacity:1;transform:translate(-50%,-50%) scale(0.98);}
  85% {opacity:0.5;}
  100%{opacity:0;transform:translate(-50%,-50%) scale(0.1);}
}

.wave {
  position:fixed; top:50%; left:50%;
  transform:translate(-50%,-50%); border-radius:50%;
  pointer-events:none; z-index:200; width:0; height:0;
  border:var(--bw,2px) solid var(--c,rgba(200,150,10,0.5));
  animation:waveOut var(--dur,1.2s) var(--ease-expo) var(--delay,0.45s) both;
}
.wave-1{--dur:1.2s;--delay:0.45s;--c:rgba(200,150,10,0.5);--bw:3px;}
.wave-2{--dur:1.4s;--delay:0.55s;--c:rgba(139,26,26,0.35);--bw:2px;}
.wave-3{--dur:1.6s;--delay:0.62s;--c:rgba(255,200,50,0.3);}
.wave-4{--dur:1.0s;--delay:0.70s;--c:rgba(200,150,10,0.15);--bw:6px;}
@keyframes waveOut{0%{width:0;height:0;opacity:1;}100%{width:280vmax;height:280vmax;opacity:0;}}

/* Sparks */
.spark {
  position:fixed; pointer-events:none; z-index:300; opacity:0;
  border-radius:50%;
  animation:sparkFly var(--sd,0.8s) ease-out var(--sdl,0.5s) both;
}
@keyframes sparkFly {
  0%  {opacity:1;transform:translate(0,0) scale(1);}
  100%{opacity:0;transform:translate(var(--sx,40px),var(--sy,-80px)) scale(0.2);}
}

/* ═══════════════════════════════════════════════════
   CARD — PARCHMENT SCROLL
═══════════════════════════════════════════════════ */
.GIGADIV {
  position: relative;
  z-index: 20;
  width: min(700px, 94vw);
  opacity: 0;
  margin-top: -3vh;
  animation: cardUnroll 1.1s var(--ease-expo) 0.85s forwards;
  transition: transform 0.15s ease;
}
@keyframes cardUnroll {
  0%  {opacity:0;transform:translateY(80px) scale(0.88) rotate(-1deg);filter:blur(8px);}
  55% {filter:blur(0);}
  75% {transform:translateY(-8px) scale(1.01) rotate(0.3deg);}
  88% {transform:translateY(3px) scale(0.998);}
  100%{opacity:1;transform:translateY(0) scale(1) rotate(0deg);filter:blur(0);}
}

/* ── SCROLL ROLLS (top & bottom) ── */
.scroll-roll {
  position: relative;
  height: 24px;
  z-index: 2;
  border-radius: 0;
  overflow: hidden;
}
.scroll-roll-top {
  background: linear-gradient(to bottom, #a07830, #c8a860, #e8c878, #d4a850);
  border-radius: 4px 4px 0 0;
  box-shadow: 0 -3px 8px rgba(0,0,0,0.4), inset 0 2px 0 rgba(255,255,200,0.3);
}
.scroll-roll-top::before, .scroll-roll-top::after {
  content:'';
  position:absolute; top:0; bottom:0;
  width:40px;
  background: radial-gradient(ellipse at center, #f0c840, #9a7020);
  box-shadow: inset 0 0 8px rgba(0,0,0,0.3);
}
.scroll-roll-top::before { left:0; border-radius:4px 0 0 0; }
.scroll-roll-top::after  { right:0; border-radius:0 4px 0 0; }

.scroll-roll-bot {
  background: linear-gradient(to top, #a07830, #c8a860, #e8c878, #d4a850);
  border-radius: 0 0 4px 4px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.5), inset 0 -2px 0 rgba(255,255,200,0.3);
}
.scroll-roll-bot::before, .scroll-roll-bot::after {
  content:'';
  position:absolute; top:0; bottom:0;
  width:40px;
  background: radial-gradient(ellipse at center, #f0c840, #9a7020);
  box-shadow: inset 0 0 8px rgba(0,0,0,0.3);
}
.scroll-roll-bot::before { left:0; border-radius:0 0 0 4px; }
.scroll-roll-bot::after  { right:0; border-radius:0 0 4px 0; }

/* ── CARD BODY ── */
.card-inner {
  position: relative;
  background:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='0.06'/%3E%3C/svg%3E"),
    linear-gradient(160deg, #fef8e4 0%, #f4e4b8 40%, #ecdaa0 70%, #f0e4b0 100%);
  border: 3px solid var(--gold-dark);
  border-top: none;
  border-bottom: none;
  padding: 42px 58px 46px;
  overflow: hidden;
  box-shadow:
    inset 0 0 40px rgba(160,100,0,0.12),
    0 8px 40px rgba(0,0,0,0.5);
}

/* ── ORNATE BORDER FRAME ── */
.card-inner::before {
  content:'';
  position:absolute; inset:8px;
  border:1.5px solid rgba(160,100,0,0.35);
  pointer-events:none; z-index:0;
  box-shadow: inset 0 0 20px rgba(160,100,0,0.08);
}

/* ── CORNER ORNAMENTS ── */
.card-inner::after {
  content:'✦';
  position:absolute; top:14px; left:50%;
  transform:translateX(-50%);
  font-size:16px; color:var(--gold);
  text-shadow:0 0 8px rgba(200,150,10,0.5);
  animation:ornamentPulse 3s ease-in-out infinite;
  pointer-events:none;
}
@keyframes ornamentPulse { 0%,100%{opacity:0.6;} 50%{opacity:1;} }

.card-content { position:relative; z-index:1; }

/* corner ornament divs */
.orn {
  position:absolute; font-size:20px; color:var(--gold);
  text-shadow:0 0 6px rgba(200,150,0,0.4);
  line-height:1; pointer-events:none; opacity:0;
  animation:fadeInOrn 0.4s ease 1.8s forwards;
}
@keyframes fadeInOrn { to{opacity:1;} }
.orn-tl { top:12px; left:14px; }
.orn-tr { top:12px; right:14px; }
.orn-bl { bottom:12px; left:14px; }
.orn-br { bottom:12px; right:14px; }

/* ══ WAXSEAL ── */
.wax-seal {
  position:absolute;
  bottom:-18px; left:50%;
  transform:translateX(-50%);
  width:40px; height:40px;
  border-radius:50%;
  background:radial-gradient(circle at 40% 35%, #c83030, #7a1a1a);
  border:2px solid #f0a0a0;
  box-shadow:0 4px 10px rgba(0,0,0,0.4), inset 0 2px 4px rgba(255,100,100,0.2);
  display:flex; align-items:center; justify-content:center;
  font-size:14px; color:rgba(255,220,220,0.8);
  z-index:5;
  animation:sealAppear 0.5s var(--ease-spring) 2.1s both;
}
@keyframes sealAppear { from{transform:translateX(-50%) scale(0);} to{transform:translateX(-50%) scale(1);} }

/* ═══════════════════════════════════════════════════
   SOLDIERS — peeping over card top
═══════════════════════════════════════════════════ */
.creatures {
  position: absolute;
  top: -88px;
  left: 0; right: 0;
  display: flex;
  justify-content: flex-end;
  align-items: flex-end;
  gap: 10px;
  padding-right: 48px;
  pointer-events: none;
  z-index: 25;
  opacity: 0;
  animation: soldiersRise 0.7s var(--ease-spring) 2.0s forwards;
}
@keyframes soldiersRise {
  from { opacity:0; transform:translateY(30px); }
  to   { opacity:1; transform:translateY(0); }
}

/* ── BASE CREATURE STRUCTURE ── */
.creature {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* ── HELMET ── */
.helmet {
  position: relative;
  z-index: 3;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.helmet-top {
  position: relative;
  z-index: 2;
}

/* ── CREATURE FACE (the circle body, now acts as face behind helmet) ── */
.creature-body {
  position: relative;
  border-radius: 50%;
  background: radial-gradient(circle at 38% 32%, #f5c890, #c8884a);
  border: 2px solid rgba(60,30,10,0.4);
  box-shadow: 0 3px 8px rgba(0,0,0,0.3), inset -3px -3px 8px rgba(0,0,0,0.15);
  z-index: 2;
  transition: transform 0.4s var(--ease-spring);
  overflow: visible;
}

/* soldier sizes */
.creature:nth-child(1) .creature-body { width:46px; height:46px; }
.creature:nth-child(2) .creature-body { width:54px; height:54px; }
.creature:nth-child(3) .creature-body { width:48px; height:48px; }

/* ── EYES ── */
.eyes {
  position:absolute; top:36%; left:50%;
  transform:translateX(-50%);
  display:flex; gap:9px;
  transition:transform 0.45s var(--ease-spring);
}
.creature:nth-child(1) .eyes { gap:7px; }
.creature:nth-child(3) .eyes { gap:8px; }

.eye {
  width:11px; height:13px;
  background:#fff;
  border-radius:50%;
  border:1.5px solid rgba(30,15,5,0.5);
  position:relative;
  overflow:hidden;
  transition:height 0.3s var(--ease-spring), border-radius 0.3s ease;
}
.creature:nth-child(1) .eye { width:9px; height:11px; }
.creature:nth-child(3) .eye { width:10px; height:12px; }

.eye::before {
  content:'';
  position:absolute;
  width:7px; height:7px;
  background:#1a0a00;
  border-radius:50%;
  top:50%; left:50%;
  transform:translate(-50%,-50%);
  transition:transform 0.35s var(--ease-spring);
}
.eye::after {
  content:'';
  position:absolute;
  width:2.5px; height:2.5px;
  background:rgba(255,255,255,0.95);
  border-radius:50%;
  top:18%; left:58%;
  pointer-events:none;
  transition:opacity 0.2s ease;
}

/* LOOKING AWAY */
.creature-body.looking-away .eyes {
  transform:translateX(-50%) translateX(7px);
}
.creature-body.looking-away .eye::before { transform:translate(15%,-50%); }
.creature-body.looking-away .eye { height:8px; }
.creature:nth-child(1) .creature-body.looking-away .eyes { transform:translateX(-50%) translateX(-7px); }
.creature:nth-child(1) .creature-body.looking-away .eye::before { transform:translate(-15%,-50%); }

/* CLOSED (happy wink) */
.creature-body.closed .eye {
  height:4px;
  border:none;
  border-bottom:2px solid rgba(60,30,10,0.7);
  border-radius:0 0 6px 6px;
  background:transparent;
}
.creature-body.closed .eye::before, .creature-body.closed .eye::after { opacity:0; }

/* ── MOUTH ── */
.mouth {
  position:absolute; bottom:22%; left:50%;
  transform:translateX(-50%);
  width:13px; height:6px;
  border:0 solid transparent;
  border-bottom:2.5px solid rgba(60,30,10,0.6);
  border-radius:0 0 8px 8px;
  transition:width 0.3s var(--ease-spring), border-radius 0.3s ease, height 0.3s;
}
.creature-body.looking-away .mouth {
  border-radius:8px 8px 0 0;
  height:4px; bottom:20%;
}

/* ── BLUSH ── */
.blush {
  position:absolute; bottom:26%;
  width:7px; height:4px;
  background:rgba(220,80,60,0.28);
  border-radius:50%;
  transition:opacity 0.3s ease;
}
.blush-l { left:8%; }
.blush-r { right:8%; }
.creature-body.looking-away .blush { opacity:0; }

/* ══════════════════════
   KNIGHT HELMET SVG
══════════════════════ */

/* KNIGHT 1 — Sallet helmet, axe */
.knight-1 .helmet-svg {
  position:absolute;
  bottom:60%;
  left:50%; transform:translateX(-50%);
  width:58px;
  pointer-events:none;
  z-index:5;
  filter:drop-shadow(0 3px 6px rgba(0,0,0,0.5));
}

/* KNIGHT 2 — Great helm, sword */
.knight-2 .helmet-svg {
  position:absolute;
  bottom:60%;
  left:50%; transform:translateX(-50%);
  width:68px;
  pointer-events:none;
  z-index:5;
  filter:drop-shadow(0 3px 8px rgba(0,0,0,0.5));
}

/* KNIGHT 3 — Barbute helmet, spear */
.knight-3 .helmet-svg {
  position:absolute;
  bottom:60%;
  left:50%; transform:translateX(-50%);
  width:60px;
  pointer-events:none;
  z-index:5;
  filter:drop-shadow(0 3px 6px rgba(0,0,0,0.5));
}

/* ── WEAPON (pokes up behind/beside helmet) ── */
.weapon {
  position:absolute;
  bottom:80%;
  pointer-events:none;
  z-index:4;
  filter:drop-shadow(1px 2px 4px rgba(0,0,0,0.6));
  transition:transform 0.4s var(--ease-spring);
}
.weapon-1 { right:-8px; }
.weapon-2 { left:-10px; }
.weapon-3 { right:-6px; }

.creature-body.looking-away ~ .weapon { transform:rotate(-20deg); }

/* ── PAULDRON / SHOULDER GUARDS peeking over card ── */
.pauldrons {
  position:absolute;
  bottom:-6px; left:50%;
  transform:translateX(-50%);
  display:flex; gap:32px;
  z-index:1;
}
.pauldron {
  width:18px; height:14px;
  border-radius:6px 6px 0 0;
  border:1.5px solid var(--steel-dark);
  transition:transform 0.4s var(--ease-spring);
  box-shadow:0 -2px 6px rgba(0,0,0,0.3);
}

.creature:nth-child(1) .pauldron { background:linear-gradient(to bottom,var(--steel-lite),var(--steel)); width:16px; }
.creature:nth-child(2) .pauldron { background:linear-gradient(to bottom,#c8b060,#907020); width:20px; height:16px; }
.creature:nth-child(3) .pauldron { background:linear-gradient(to bottom,var(--steel-lite),var(--steel)); width:17px; }

/* Crest on middle knight's pauldrons */
.creature:nth-child(2) .pauldron::after {
  content:'✦';
  font-size:7px;
  color:rgba(255,220,100,0.7);
  position:absolute;
  top:1px; left:50%;
  transform:translateX(-50%);
}

.creature-body.looking-away ~ .pauldrons .pauldron:first-child { transform:rotate(-10deg); }
.creature-body.looking-away ~ .pauldrons .pauldron:last-child  { transform:rotate(10deg); }

/* ── BOBBING ── */
.creature:nth-child(1) { animation:bob1 3.2s ease-in-out 2.5s infinite; }
.creature:nth-child(2) { animation:bob2 2.8s ease-in-out 2.2s infinite; }
.creature:nth-child(3) { animation:bob3 3.5s ease-in-out 2.7s infinite; }
@keyframes bob1{0%,100%{transform:translateY(0) rotate(-0.5deg);}50%{transform:translateY(-7px) rotate(0.5deg);}}
@keyframes bob2{0%,100%{transform:translateY(0);}50%{transform:translateY(-9px);}}
@keyframes bob3{0%,100%{transform:translateY(0) rotate(0.5deg);}50%{transform:translateY(-5px) rotate(-0.5deg);}}

/* ── KNIGHT LABELS ── */
.knight-label {
  position:absolute;
  bottom:-18px; left:50%;
  transform:translateX(-50%);
  font-family:var(--font-label);
  font-size:7px;
  letter-spacing:0.1em;
  color:var(--ink-soft);
  white-space:nowrap;
  opacity:0.6;
}

/* ═══════════════════════════════════════════════════
   HEADING
═══════════════════════════════════════════════════ */
.heading-wrap { margin-bottom:36px; text-align:center; }

.eyebrow {
  display:flex; align-items:center; gap:10px;
  margin-bottom:12px; opacity:0;
  animation:fadeUp 0.5s ease 1.6s forwards;
}
.eyebrow-line {
  flex:1; height:1px;
  background:linear-gradient(90deg,transparent,var(--gold-dark),transparent);
}
.eyebrow-text {
  font-family:var(--font-label);
  font-size:9px; letter-spacing:0.25em; text-transform:uppercase;
  color:var(--ink-faint); white-space:nowrap;
}

h1 {
  font-family: var(--font-title);
  font-size: clamp(22px, 4.5vw, 56px);
  line-height: 1;
  letter-spacing: 0.06em;
  color: var(--ink);
  white-space: nowrap;
  text-shadow: 2px 2px 0 rgba(160,100,0,0.25), 0 0 30px rgba(200,150,10,0.2);
  opacity: 0;
  animation: titleSlam 0.8s var(--ease-expo) 1.1s forwards;
}
@keyframes titleSlam {
  0%  {opacity:0;transform:translateY(-30px);letter-spacing:0.2em;filter:blur(4px);}
  55% {opacity:1;filter:blur(0);transform:translateY(4px);}
  100%{opacity:1;transform:translateY(0);letter-spacing:0.06em;}
}

/* Gold decorative line under title */
h1::after {
  content:'— ✦ —';
  display:block;
  font-family:var(--font-body);
  font-size:14px;
  color:var(--gold);
  letter-spacing:0.3em;
  margin-top:8px;
  text-shadow:0 0 8px rgba(200,150,10,0.4);
  opacity:0;
  animation:fadeUp 0.5s ease 1.55s forwards;
}

.title-sub {
  margin-top:6px;
  font-family:var(--font-body);
  font-style:italic;
  font-size:13px;
  color:var(--ink-soft);
  opacity:0;
  animation:fadeUp 0.5s ease 1.65s forwards;
}

/* ═══════════════════════════════════════════════════
   FORM
═══════════════════════════════════════════════════ */
#loginForm { display:flex; flex-direction:column; gap:22px; }

.form-row {
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
}

.field { opacity:0; animation:fadeUp 0.55s var(--ease-expo) both; }
.field:nth-child(1){animation-delay:1.70s;}
.field:nth-child(2){animation-delay:1.85s;}

label {
  display:block;
  font-family:var(--font-label);
  font-size:10px; letter-spacing:0.18em; text-transform:uppercase;
  color:var(--ink-faint); margin-bottom:7px;
  transition:color 0.2s ease;
}
.field:focus-within label { color:var(--ink); }

.input-wrap { position:relative; }

input[type="text"],
input[type="password"] {
  display:block; width:100%;
  padding:13px 44px 13px 14px;
  background:rgba(255,245,210,0.7);
  border:2px solid var(--gold-dark);
  border-radius:0;
  color:var(--ink);
  font-family:var(--font-body);
  font-size:15px; font-style:italic;
  outline:none;
  transition:border-color 0.2s ease, background 0.2s ease, box-shadow 0.2s ease;
  box-shadow:inset 0 2px 6px rgba(100,60,0,0.1), 2px 2px 0 rgba(100,60,0,0.15);
  -webkit-appearance:none;
}
input::placeholder { color:var(--ink-faint); font-style:italic; opacity:0.7; }
input:hover  { border-color:var(--gold); background:rgba(255,248,220,0.85); }
input:focus  {
  border-color:var(--gold);
  background:rgba(255,252,230,0.95);
  box-shadow:inset 0 2px 6px rgba(100,60,0,0.08), 0 0 0 3px rgba(200,150,10,0.2), 2px 2px 0 rgba(100,60,0,0.15);
}
input:focus::placeholder { color:transparent; }
input:-webkit-autofill {
  -webkit-box-shadow:0 0 0 100px #fff8e0 inset;
  -webkit-text-fill-color:var(--ink); caret-color:var(--ink);
}

/* input quill decoration */
.input-wrap::before {
  content:'';
  position:absolute;
  left:-1px; top:0; bottom:0;
  width:3px;
  background:linear-gradient(to bottom, var(--gold), var(--gold-dark));
  transform:scaleY(0);
  transform-origin:top;
  transition:transform 0.3s var(--ease-expo);
}
.input-wrap:focus-within::before { transform:scaleY(1); }

/* ── CORNER BRACKETS on inputs ── */
.input-wrap::after {
  content:'';
  position:absolute;
  bottom:-2px; left:2px;
  width:0; height:2px;
  background:var(--gold);
  transition:width 0.4s var(--ease-expo);
  box-shadow:0 0 6px rgba(200,150,10,0.4);
}
.input-wrap:focus-within::after { width:calc(100% - 4px); }

/* ── PW TOGGLE ── */
.pw-toggle {
  position:absolute; right:10px; top:50%;
  transform:translateY(-50%);
  background:none; border:none; padding:4px;
  cursor:pointer; color:var(--ink-faint);
  transition:color 0.2s ease, transform 0.2s ease;
  display:flex; align-items:center; justify-content:center;
  width:28px; height:28px; margin:0; line-height:1;
}
.pw-toggle:hover { color:var(--gold-dark); transform:translateY(-50%) scale(1.15); }
.pw-toggle svg { display:block; width:17px; height:17px; pointer-events:none; }

/* ═══════════════════════════════════════════════════
   BUTTON
═══════════════════════════════════════════════════ */
.btn-wrap { opacity:0; animation:fadeUp 0.5s ease 2.0s forwards; }

button[type="submit"] {
  position:relative; display:block; width:100%;
  padding:17px 24px;
  background:linear-gradient(to bottom, #c8960a, #906600, #b88000, #e0aa10);
  border:2px solid var(--gold-dark);
  border-radius:0; color:var(--parch);
  font-family:var(--font-title); font-size:18px;
  letter-spacing:0.2em; text-transform:uppercase;
  cursor:pointer; overflow:hidden;
  text-shadow:0 1px 3px rgba(0,0,0,0.5), 0 0 10px rgba(0,0,0,0.3);
  box-shadow:0 4px 0 var(--gold-dark), 0 6px 16px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,240,150,0.3);
  transition:
    transform 0.18s var(--ease-spring),
    box-shadow 0.18s ease,
    filter 0.18s ease,
    letter-spacing 0.25s ease;
}
button[type="submit"]::before {
  content:'⚔';
  position:absolute; left:20px; top:50%; transform:translateY(-50%);
  font-size:16px; opacity:0.7;
  transition:transform 0.3s var(--ease-spring);
}
button[type="submit"]::after {
  content:'⚔';
  position:absolute; right:20px; top:50%; transform:translateY(-50%) scaleX(-1);
  font-size:16px; opacity:0.7;
  transition:transform 0.3s var(--ease-spring);
}
button[type="submit"]:hover {
  transform:translateY(-3px);
  filter:brightness(1.1);
  letter-spacing:0.24em;
  box-shadow:0 7px 0 var(--gold-dark), 0 10px 24px rgba(0,0,0,0.45), inset 0 1px 0 rgba(255,240,150,0.4);
}
button[type="submit"]:hover::before  { transform:translateY(-50%) rotate(-15deg); }
button[type="submit"]:hover::after   { transform:translateY(-50%) scaleX(-1) rotate(-15deg); }
button[type="submit"]:active {
  transform:translateY(2px);
  box-shadow:0 2px 0 var(--gold-dark), 0 3px 8px rgba(0,0,0,0.4);
  transition-duration:0.07s;
}

/* Shimmer */
.btn-shimmer {
  position:absolute; top:0; left:-80%; width:40%; height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,200,0.25),transparent);
  transform:skewX(-20deg);
  animation:shimmer 4s ease-in-out 2.8s infinite;
}
@keyframes shimmer { 0%{left:-80%;} 35%{left:140%;} 100%{left:140%;} }

/* ═══════════════════════════════════════════════════
   MESSAGE & FOOTER
═══════════════════════════════════════════════════ */
#uzenet {
  font-family:var(--font-body); font-style:italic;
  font-size:13px; letter-spacing:0.05em; text-align:center;
  min-height:20px; color:transparent; margin-top:6px;
  opacity:0; animation:fadeUp 0.3s ease 2.2s forwards;
}
#uzenet.ok  { color:#3a6a1a; animation:msgSlide 0.4s var(--ease-expo) both; text-shadow:0 1px 0 rgba(255,255,200,0.5); }
#uzenet.err { color:var(--red-crest); animation:msgShake 0.45s ease both; }
@keyframes msgSlide { from{opacity:0;transform:translateY(-5px);}to{opacity:1;transform:translateY(0);} }
@keyframes msgShake { 0%{transform:translateX(0);}18%{transform:translateX(-8px);}36%{transform:translateX(6px);}54%{transform:translateX(-4px);}72%{transform:translateX(3px);}100%{transform:translateX(0);opacity:1;} }

.footer-link {
  margin-top:24px; padding-top:20px;
  border-top:1px solid rgba(160,100,0,0.25);
  text-align:center;
  font-family:var(--font-body); font-style:italic;
  font-size:13px; color:var(--ink-faint);
  opacity:0; animation:fadeUp 0.4s ease 2.3s forwards;
}
a {
  color:var(--gold-dark); text-decoration:none; font-weight:400;
  position:relative; transition:color 0.2s ease;
  font-style:italic;
}
a::after {
  content:''; position:absolute; bottom:-1px; left:0;
  width:100%; height:1px; background:var(--gold-dark);
  transform:scaleX(0); transform-origin:right; transition:transform 0.25s ease;
}
a:hover { color:var(--gold); }
a:hover::after { background:var(--gold); transform:scaleX(1); transform-origin:left; }

/* ═══════════════════════════════════════════════════
   DECORATIVE TREES (2D illustrated)
═══════════════════════════════════════════════════ */
.tree-2d {
  position:relative;
  display:inline-flex;
  flex-direction:column;
  align-items:center;
  animation:treeSway var(--ts,6s) ease-in-out var(--td,0s) infinite alternate;
  transform-origin:center bottom;
  filter:drop-shadow(2px 4px 6px rgba(0,0,0,0.4));
}
@keyframes treeSway {
  from { transform:rotate(var(--tr1,-1.5deg)); }
  to   { transform:rotate(var(--tr2,1.5deg)); }
}

/* ═══════════════════════════════════════════════════
   UTILITY
═══════════════════════════════════════════════════ */
@keyframes fadeUp { from{opacity:0;transform:translateY(8px);}to{opacity:1;transform:translateY(0);} }

/* ═══════════════════════════════════════════════════
   RESPONSIVE
═══════════════════════════════════════════════════ */
@media (max-width:600px) {
  .card-inner { padding:30px 24px 38px; }
  h1 { font-size:28px; }
  .form-row { grid-template-columns:1fr; }
  .creatures { padding-right:20px; gap:6px; }
  .creature-body { transform:scale(0.85); }
  .trees-fore { display:none; }
}

@media (prefers-reduced-motion:reduce) {
  *,*::before,*::after { animation-duration:0.01ms !important; animation-iteration-count:1 !important; }
  .GIGADIV,.creatures,h1,.field,.eyebrow,.title-sub,.btn-wrap,
  #uzenet,.footer-link { opacity:1 !important; transform:none !important; }
}

  </style>
</head>
<body>

<!-- ════════════ SKY ════════════ -->
<div class="sky"></div>

<!-- Stars -->
<div class="stars" id="stars"></div>

<!-- Moon -->
<div class="moon">
  <div class="moon-glow"></div>
  <div class="moon-body"></div>
</div>

<!-- Clouds -->
<div class="cloud" style="top:8%;--cd:70s;">
  <svg width="160" height="50" viewBox="0 0 160 50" fill="none">
    <ellipse cx="80" cy="35" rx="70" ry="20" fill="rgba(255,240,200,0.18)" stroke="rgba(255,220,150,0.25)" stroke-width="1"/>
    <ellipse cx="55" cy="25" rx="35" ry="18" fill="rgba(255,240,200,0.2)" stroke="rgba(255,220,150,0.25)" stroke-width="1"/>
    <ellipse cx="100" cy="22" rx="30" ry="16" fill="rgba(255,240,200,0.18)" stroke="rgba(255,220,150,0.25)" stroke-width="1"/>
  </svg>
</div>
<div class="cloud" style="top:14%;--cd:95s;animation-delay:-40s;">
  <svg width="110" height="36" viewBox="0 0 110 36" fill="none">
    <ellipse cx="55" cy="26" rx="48" ry="14" fill="rgba(255,230,180,0.15)" stroke="rgba(255,210,120,0.2)" stroke-width="1"/>
    <ellipse cx="35" cy="18" rx="24" ry="13" fill="rgba(255,230,180,0.17)"/>
    <ellipse cx="72" cy="16" rx="22" ry="12" fill="rgba(255,230,180,0.15)"/>
  </svg>
</div>
<div class="cloud" style="top:5%;--cd:120s;animation-delay:-60s;">
  <svg width="200" height="60" viewBox="0 0 200 60" fill="none">
    <ellipse cx="100" cy="42" rx="90" ry="22" fill="rgba(255,245,210,0.12)" stroke="rgba(255,220,140,0.18)" stroke-width="1"/>
    <ellipse cx="65" cy="28" rx="45" ry="22" fill="rgba(255,245,210,0.14)"/>
    <ellipse cx="135" cy="24" rx="38" ry="20" fill="rgba(255,245,210,0.12)"/>
    <ellipse cx="100" cy="20" rx="28" ry="18" fill="rgba(255,245,210,0.14)"/>
  </svg>
</div>

<!-- ════════════ MOUNTAINS ════════════ -->
<div class="mountains">
  <svg viewBox="0 0 1440 200" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <linearGradient id="mtGrad" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0%" stop-color="#1a0d35"/>
        <stop offset="100%" stop-color="#2d1050"/>
      </linearGradient>
      <linearGradient id="mtSnow" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0%" stop-color="#e0d8f0" stop-opacity="0.5"/>
        <stop offset="40%" stop-color="#e0d8f0" stop-opacity="0"/>
      </linearGradient>
    </defs>
    <!-- back range -->
    <path d="M0,160 L60,90 L140,140 L220,60 L310,120 L390,40 L480,110 L560,55 L650,100 L740,30 L840,95 L920,45 L1010,110 L1090,50 L1180,100 L1260,35 L1360,90 L1440,70 L1440,200 L0,200 Z"
      fill="url(#mtGrad)" stroke="#3d1870" stroke-width="1" opacity="0.9"/>
    <!-- snow caps -->
    <path d="M60,90 L80,110 L100,95 L120,112 L140,90 Z" fill="url(#mtSnow)"/>
    <path d="M390,40 L420,72 L455,55 L480,75 Z" fill="url(#mtSnow)"/>
    <path d="M740,30 L775,65 L810,45 L840,70 Z" fill="url(#mtSnow)"/>
    <path d="M1090,50 L1118,80 L1148,62 L1170,82 Z" fill="url(#mtSnow)"/>
  </svg>
</div>

<!-- ════════════ VILLAGE SILHOUETTE ════════════ -->
<div class="village-far">
  <svg viewBox="0 0 1440 180" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <linearGradient id="vilGrad" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0%" stop-color="#0d1a08"/>
        <stop offset="100%" stop-color="#1a3010"/>
      </linearGradient>
    </defs>
    <!-- houses & church silhouettes -->
    <g fill="url(#vilGrad)" stroke="none">
      <!-- church steeple -->
      <rect x="160" y="60" width="40" height="100" rx="0"/>
      <polygon points="160,60 180,20 200,60"/>
      <rect x="176" y="30" width="8" height="30"/>
      <!-- house 1 -->
      <rect x="50" y="100" width="60" height="80"/>
      <polygon points="40,100 80,70 120,100"/>
      <!-- house 2 -->
      <rect x="220" y="110" width="50" height="70"/>
      <polygon points="212,110 245,82 278,110"/>
      <!-- tower -->
      <rect x="360" y="80" width="35" height="100"/>
      <polygon points="357,80 377,50 397,80"/>
      <rect x="355" y="75" width="40" height="8" rx="1"/>
      <!-- house 3 -->
      <rect x="420" y="105" width="55" height="75"/>
      <polygon points="412,105 447,75 482,105"/>
      <!-- windmill -->
      <rect x="580" y="90" width="30" height="90"/>
      <polygon points="575,90 595,60 615,90"/>
      <!-- house 4 -->
      <rect x="650" y="112" width="48" height="68"/>
      <polygon points="643,112 674,84 705,112"/>
      <!-- keep/tower right -->
      <rect x="1100" y="70" width="45" height="110"/>
      <rect x="1095" y="65" width="55" height="10" rx="1"/>
      <!-- battlements -->
      <rect x="1095" y="55" width="8" height="12"/>
      <rect x="1109" y="55" width="8" height="12"/>
      <rect x="1123" y="55" width="8" height="12"/>
      <rect x="1137" y="55" width="8" height="12"/>
      <rect x="1143" y="65" width="8" height="4"/>
      <!-- house 5 -->
      <rect x="1160" y="110" width="52" height="70"/>
      <polygon points="1152,110 1186,80 1220,110"/>
    </g>
    <!-- window glows -->
    <rect x="67" y="112" width="10" height="12" fill="#ffcc44" opacity="0.5" rx="1"/>
    <rect x="93" y="112" width="10" height="12" fill="#ffcc44" opacity="0.45" rx="1"/>
    <rect x="234" y="122" width="9" height="11" fill="#ffcc44" opacity="0.4" rx="1"/>
    <rect x="430" y="118" width="9" height="11" fill="#ffcc44" opacity="0.45" rx="1"/>
    <rect x="456" y="118" width="9" height="11" fill="#ffcc44" opacity="0.4" rx="1"/>
    <rect x="1112" y="90" width="10" height="10" fill="#ffcc44" opacity="0.5" rx="1"/>
    <rect x="1130" y="90" width="10" height="10" fill="#ffcc44" opacity="0.45" rx="1"/>
    <rect x="1172" y="124" width="9" height="11" fill="#ffcc44" opacity="0.4" rx="1"/>
  </svg>
</div>

<!-- ════════════ BACK TREES ════════════ -->
<div class="trees-back">
  <svg viewBox="0 0 1440 220" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <linearGradient id="treeGradDark" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0%" stop-color="#0a200a"/>
        <stop offset="100%" stop-color="#1a3a10"/>
      </linearGradient>
    </defs>
    <!-- Row of pointed pine trees as solid silhouette -->
    <!-- pines left cluster -->
    <polygon points="10,220 30,140 50,220" fill="#091508"/>
    <polygon points="28,220 55,120 82,220" fill="#0a1a08"/>
    <polygon points="55,220 80,135 105,220" fill="#0c1c0a"/>
    <polygon points="85,220 112,118 139,220" fill="#0a1a08"/>
    <polygon points="108,220 130,140 152,220" fill="#091508"/>
    <!-- trunks -->
    <rect x="29" y="195" width="6" height="25" fill="#1a1008"/>
    <rect x="53" y="185" width="6" height="35" fill="#1a1008"/>
    <rect x="79" y="188" width="6" height="32" fill="#1a1008"/>
    <rect x="110" y="182" width="7" height="38" fill="#1a1008"/>

    <!-- middle gap — left pines -->
    <polygon points="300,220 330,130 360,220" fill="#0a1a08"/>
    <polygon points="340,220 368,115 396,220" fill="#0c1c0a"/>
    <polygon points="375,220 398,138 421,220" fill="#0a1a08"/>
    <rect x="329" y="185" width="6" height="35" fill="#1a1008"/>
    <rect x="366" y="178" width="7" height="42" fill="#1a1008"/>

    <!-- middle center -->
    <polygon points="680,220 718,108 756,220" fill="#0a1a08"/>
    <polygon points="730,220 762,125 794,220" fill="#0c2010"/>
    <polygon points="775,220 800,140 825,220" fill="#0a1a08"/>
    <rect x="716" y="172" width="7" height="48" fill="#1a1008"/>
    <rect x="760" y="185" width="7" height="35" fill="#1a1008"/>

    <!-- right cluster -->
    <polygon points="1100,220 1130,130 1160,220" fill="#091508"/>
    <polygon points="1148,220 1180,115 1212,220" fill="#0a1a08"/>
    <polygon points="1195,220 1222,135 1249,220" fill="#0c1c0a"/>
    <polygon points="1240,220 1268,118 1296,220" fill="#0a1a08"/>
    <polygon points="1290,220 1312,140 1334,220" fill="#091508"/>
    <polygon points="1330,220 1358,125 1386,220" fill="#0a1a08"/>
    <polygon points="1370,220 1392,138 1414,220" fill="#0c1c0a"/>
    <rect x="1129" y="185" width="6" height="35" fill="#1a1008"/>
    <rect x="1178" y="178" width="7" height="42" fill="#1a1008"/>
    <rect x="1221" y="185" width="6" height="35" fill="#1a1008"/>
    <rect x="1266" y="180" width="7" height="40" fill="#1a1008"/>
  </svg>
</div>

<!-- ════════════ GROUND LAYERS ════════════ -->
<div class="ground-far"></div>
<div class="ground-mid"></div>
<div class="ground-near"></div>

<!-- ════════════ FOREGROUND TREES ════════════ -->
<div class="trees-fore">

  <!-- Left big oak -->
  <svg width="90" height="160" viewBox="0 0 90 160" class="tree-2d" style="--ts:5s;--td:0s;--tr1:-1.5deg;--tr2:1.8deg;" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <linearGradient id="oak1" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0%" stop-color="#1a3a08"/>
        <stop offset="100%" stop-color="#0d2005"/>
      </linearGradient>
    </defs>
    <!-- trunk -->
    <rect x="37" y="90" width="16" height="70" rx="3" fill="#3a1a08"/>
    <rect x="40" y="90" width="10" height="70" rx="2" fill="#4a2210"/>
    <!-- roots -->
    <path d="M37,155 Q25,148 18,160" stroke="#3a1a08" stroke-width="3" fill="none"/>
    <path d="M53,155 Q65,148 72,160" stroke="#3a1a08" stroke-width="3" fill="none"/>
    <!-- foliage layers -->
    <ellipse cx="45" cy="70" rx="42" ry="30" fill="#0d2005"/>
    <ellipse cx="30" cy="60" rx="28" ry="22" fill="#162d08"/>
    <ellipse cx="60" cy="58" rx="26" ry="22" fill="#1a3208"/>
    <ellipse cx="45" cy="48" rx="32" ry="24" fill="url(#oak1)"/>
    <ellipse cx="45" cy="38" rx="24" ry="18" fill="#1e3a0a"/>
    <!-- highlight -->
    <ellipse cx="35" cy="35" rx="10" ry="7" fill="#2a5010" opacity="0.6"/>
  </svg>

  <!-- Left pine -->
  <svg width="55" height="130" viewBox="0 0 55 130" class="tree-2d" style="--ts:7s;--td:0.8s;--tr1:-2deg;--tr2:1.5deg;" xmlns="http://www.w3.org/2000/svg">
    <rect x="24" y="90" width="8" height="40" rx="2" fill="#2a1005"/>
    <polygon points="27,10 0,90 55,90" fill="#0a1a05"/>
    <polygon points="27,25 3,80 52,80" fill="#122205"/>
    <polygon points="27,40 6,75 49,75" fill="#1a2d08"/>
    <!-- snow hints -->
    <path d="M27,10 Q35,18 45,22" stroke="rgba(240,230,220,0.3)" stroke-width="2" fill="none"/>
  </svg>

  <!-- spacer -->
  <div style="flex:1"></div>

  <!-- Right pine group -->
  <svg width="50" height="120" viewBox="0 0 50 120" class="tree-2d" style="--ts:6s;--td:1.2s;--tr1:-1deg;--tr2:2deg;" xmlns="http://www.w3.org/2000/svg">
    <rect x="22" y="85" width="7" height="35" rx="2" fill="#2a1005"/>
    <polygon points="25,8 0,85 50,85" fill="#091505"/>
    <polygon points="25,24 4,76 47,76" fill="#101e06"/>
    <polygon points="25,40 7,70 44,70" fill="#182808"/>
  </svg>

  <!-- Right big oak -->
  <svg width="85" height="150" viewBox="0 0 85 150" class="tree-2d" style="--ts:5.5s;--td:0.3s;--tr1:-2deg;--tr2:1.2deg;" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <linearGradient id="oak2" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0%" stop-color="#1a3808"/>
        <stop offset="100%" stop-color="#0c1e05"/>
      </linearGradient>
    </defs>
    <rect x="34" y="88" width="15" height="62" rx="3" fill="#3a1a08"/>
    <rect x="37" y="88" width="9" height="62" rx="2" fill="#4a2210"/>
    <path d="M34,148 Q22,142 15,152" stroke="#3a1a08" stroke-width="3" fill="none"/>
    <path d="M49,148 Q61,142 68,152" stroke="#3a1a08" stroke-width="3" fill="none"/>
    <ellipse cx="42" cy="68" rx="40" ry="28" fill="#0c1e05"/>
    <ellipse cx="28" cy="58" rx="26" ry="20" fill="#152b07"/>
    <ellipse cx="56" cy="56" rx="24" ry="20" fill="#193008"/>
    <ellipse cx="42" cy="46" rx="30" ry="22" fill="url(#oak2)"/>
    <ellipse cx="42" cy="36" rx="22" ry="17" fill="#1c3809"/>
    <ellipse cx="33" cy="33" rx="9" ry="6" fill="#285012" opacity="0.6"/>
  </svg>

</div>

<!-- ════════════ PATH ════════════ -->
<div class="path-ground">
  <svg viewBox="0 0 1440 100" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <linearGradient id="pathGrad" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0%" stop-color="#6a4a18"/>
        <stop offset="100%" stop-color="#3a2808"/>
      </linearGradient>
    </defs>
    <path d="M560,0 Q680,8 720,0 Q780,8 880,0 L1440,0 L1440,100 L0,100 L0,0 Q120,8 180,0 Q240,8 560,0 Z"
      fill="url(#pathGrad)" opacity="0.5"/>
    <!-- path stones -->
    <ellipse cx="400" cy="55" rx="18" ry="7" fill="#8b6914" opacity="0.4"/>
    <ellipse cx="600" cy="62" rx="14" ry="5" fill="#8b6914" opacity="0.35"/>
    <ellipse cx="820" cy="48" rx="20" ry="8" fill="#8b6914" opacity="0.4"/>
    <ellipse cx="1050" cy="58" rx="16" ry="6" fill="#8b6914" opacity="0.35"/>
    <ellipse cx="1280" cy="52" rx="18" ry="7" fill="#8b6914" opacity="0.38"/>
  </svg>
</div>

<!-- ════════════ FIREFLIES ════════════ -->
<div id="fireflies"></div>

<!-- ════════════ EXPLOSION ════════════ -->
<div class="flash-white"></div>
<div class="crash-text">Királyság Kapuja</div>
<div class="wave wave-1"></div>
<div class="wave wave-2"></div>
<div class="wave wave-3"></div>
<div class="wave wave-4"></div>
<div id="sparks"></div>

<!-- ════════════ CARD ════════════ -->
<div class="GIGADIV">

  <!-- SOLDIERS -->
  <div class="creatures" id="creatures">

    <!-- Knight 1: Sallet + Battle Axe -->
    <div class="creature knight-1">
      <div class="weapon weapon-1">
        <svg width="22" height="80" viewBox="0 0 22 80" xmlns="http://www.w3.org/2000/svg">
          <!-- shaft -->
          <rect x="9" y="20" width="4" height="60" rx="1" fill="#5c3010"/>
          <rect x="10" y="20" width="2" height="60" rx="1" fill="#7a4420"/>
          <!-- axe head -->
          <path d="M11,20 L2,8 Q1,3 6,2 L18,6 Q22,10 18,18 Z" fill="#909898"/>
          <path d="M11,20 L3,10 Q3,6 7,4 L16,7 Q19,12 16,18 Z" fill="#b0c0c0"/>
          <!-- blade edge highlight -->
          <path d="M3,10 Q1,5 6,3" stroke="#e0e8e8" stroke-width="1" fill="none" opacity="0.7"/>
          <!-- spike top -->
          <polygon points="11,5 8,12 14,12" fill="#808888"/>
          <!-- binding -->
          <rect x="8" y="28" width="6" height="4" rx="1" fill="#c8960a"/>
          <rect x="8" y="36" width="6" height="2" rx="1" fill="#a07000"/>
        </svg>
      </div>
      <div class="creature-body" id="cb1">
        <!-- Sallet Helmet -->
        <svg class="helmet-svg" viewBox="0 0 60 55" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="sallet" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#c0ccd4"/>
              <stop offset="50%" stop-color="#8090a0"/>
              <stop offset="100%" stop-color="#505860"/>
            </linearGradient>
            <linearGradient id="salletShine" x1="0" y1="0" x2="0.3" y2="1">
              <stop offset="0%" stop-color="rgba(255,255,255,0.35)"/>
              <stop offset="100%" stop-color="rgba(255,255,255,0)"/>
            </linearGradient>
          </defs>
          <!-- brim back -->
          <path d="M5,40 Q30,48 55,40 L58,44 Q30,55 2,44 Z" fill="#506070"/>
          <!-- bowl -->
          <path d="M8,38 Q12,10 30,8 Q48,10 52,38 Q30,42 8,38 Z" fill="url(#sallet)"/>
          <!-- shine -->
          <path d="M12,35 Q16,14 28,12 Q20,14 14,34 Z" fill="url(#salletShine)"/>
          <!-- visor slit -->
          <path d="M14,30 Q30,32 46,30 L46,33 Q30,36 14,33 Z" fill="#303840"/>
          <!-- crest rivet -->
          <circle cx="30" cy="10" r="3" fill="#707880"/>
          <circle cx="30" cy="10" r="1.5" fill="#a0a8b0"/>
          <!-- rivets row -->
          <circle cx="14" cy="36" r="1.5" fill="#607080"/>
          <circle cx="46" cy="36" r="1.5" fill="#607080"/>
          <circle cx="22" cy="38" r="1" fill="#607080"/>
          <circle cx="38" cy="38" r="1" fill="#607080"/>
          <!-- cheek guard left -->
          <path d="M8,38 Q5,44 8,50 Q12,48 14,44 Q12,42 8,38 Z" fill="#708090"/>
          <path d="M52,38 Q55,44 52,50 Q48,48 46,44 Q48,42 52,38 Z" fill="#708090"/>
        </svg>
        <div class="eyes"><div class="eye"></div><div class="eye"></div></div>
        <div class="mouth"></div>
        <div class="blush blush-l"></div>
        <div class="blush blush-r"></div>
        <div class="pauldrons"><div class="pauldron"></div><div class="pauldron"></div></div>
      </div>
      <span class="knight-label">Őrszem</span>
    </div>

    <!-- Knight 2: Great Helm + Sword (TALLEST — Commander) -->
    <div class="creature knight-2">
      <div class="weapon weapon-2">
        <svg width="26" height="95" viewBox="0 0 26 95" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="swordGrad" x1="0" y1="0" x2="1" y2="0">
              <stop offset="0%" stop-color="#d0d8e0"/>
              <stop offset="40%" stop-color="#f0f4f8"/>
              <stop offset="100%" stop-color="#a0aab2"/>
            </linearGradient>
          </defs>
          <!-- pommel -->
          <ellipse cx="13" cy="88" rx="8" ry="6" fill="#a07820"/>
          <ellipse cx="13" cy="86" rx="6" ry="4" fill="#c8a030"/>
          <!-- grip -->
          <rect x="11" y="70" width="4" height="18" rx="1" fill="#5a2808"/>
          <path d="M11,72 Q13,73 15,72 M11,76 Q13,77 15,76 M11,80 Q13,81 15,80 M11,84 Q13,85 15,84" stroke="#8b4010" stroke-width="0.8" fill="none"/>
          <!-- crossguard -->
          <rect x="2" y="65" width="22" height="6" rx="2" fill="#b08820"/>
          <rect x="3" y="66" width="20" height="4" rx="1.5" fill="#d0a830"/>
          <circle cx="2" cy="68" r="3" fill="#b08820"/>
          <circle cx="24" cy="68" r="3" fill="#b08820"/>
          <!-- blade -->
          <path d="M11,65 L6,12 L13,2 L20,12 L15,65 Z" fill="url(#swordGrad)"/>
          <path d="M13,2 L11,65 L13,64 Z" fill="rgba(255,255,255,0.4)"/>
          <!-- fuller -->
          <line x1="13" y1="10" x2="13" y2="62" stroke="rgba(150,170,190,0.5)" stroke-width="1.5"/>
        </svg>
      </div>
      <div class="creature-body" id="cb2">
        <!-- Great Helm -->
        <svg class="helmet-svg" viewBox="0 0 72 68" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="ghelm" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#c8b050"/>
              <stop offset="30%" stop-color="#a07820"/>
              <stop offset="70%" stop-color="#c8a030"/>
              <stop offset="100%" stop-color="#806010"/>
            </linearGradient>
            <linearGradient id="ghelmFace" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#b0c0c8"/>
              <stop offset="100%" stop-color="#607080"/>
            </linearGradient>
          </defs>
          <!-- top dome — gold banded great helm -->
          <path d="M10,52 Q12,18 36,12 Q60,18 62,52 Q36,58 10,52 Z" fill="url(#ghelm)"/>
          <!-- gold band at top -->
          <path d="M18,22 Q36,16 54,22 L56,26 Q36,20 16,26 Z" fill="#e0b820" opacity="0.6"/>
          <!-- face plate -->
          <path d="M10,52 L10,58 Q36,64 62,58 L62,52 Q36,58 10,52 Z" fill="url(#ghelmFace)"/>
          <!-- cross slit + breathing holes -->
          <rect x="22" y="38" width="28" height="3" rx="1" fill="#1a1008" opacity="0.85"/>
          <rect x="33" y="30" width="6" height="14" rx="1" fill="#1a1008" opacity="0.7"/>
          <!-- breathing holes row -->
          <circle cx="20" cy="50" r="1.5" fill="#1a1008" opacity="0.7"/>
          <circle cx="26" cy="52" r="1.5" fill="#1a1008" opacity="0.7"/>
          <circle cx="32" cy="53" r="1.5" fill="#1a1008" opacity="0.7"/>
          <circle cx="40" cy="53" r="1.5" fill="#1a1008" opacity="0.7"/>
          <circle cx="46" cy="52" r="1.5" fill="#1a1008" opacity="0.7"/>
          <circle cx="52" cy="50" r="1.5" fill="#1a1008" opacity="0.7"/>
          <!-- crest on top -->
          <path d="M28,12 Q36,2 44,12" stroke="#e0b820" stroke-width="2" fill="none"/>
          <circle cx="36" cy="8" r="4" fill="#e0b820"/>
          <circle cx="36" cy="8" r="2" fill="#fff5a0"/>
          <!-- shine -->
          <path d="M16,48 Q18,26 28,18 Q18,28 14,48 Z" fill="rgba(255,255,200,0.2)"/>
          <!-- side rivets/bolts -->
          <circle cx="12" cy="40" r="2" fill="#808830"/>
          <circle cx="60" cy="40" r="2" fill="#808830"/>
          <circle cx="12" cy="52" r="2" fill="#808830"/>
          <circle cx="60" cy="52" r="2" fill="#808830"/>
        </svg>
        <div class="eyes"><div class="eye"></div><div class="eye"></div></div>
        <div class="mouth"></div>
        <div class="blush blush-l"></div>
        <div class="blush blush-r"></div>
        <div class="pauldrons"><div class="pauldron"></div><div class="pauldron"></div></div>
      </div>
      <span class="knight-label">Parancsnok</span>
    </div>

    <!-- Knight 3: Barbute Helmet + Spear -->
    <div class="creature knight-3">
      <div class="weapon weapon-3">
        <svg width="18" height="100" viewBox="0 0 18 100" xmlns="http://www.w3.org/2000/svg">
          <!-- shaft -->
          <rect x="7" y="22" width="4" height="78" rx="1.5" fill="#5c3010"/>
          <rect x="8" y="22" width="2" height="78" rx="1" fill="#7a4420"/>
          <!-- binding rings -->
          <rect x="6" y="30" width="6" height="3" rx="1" fill="#8b6914"/>
          <rect x="6" y="42" width="6" height="3" rx="1" fill="#8b6914"/>
          <!-- spear tip -->
          <path d="M9,22 L3,8 Q2,3 9,0 Q16,3 15,8 Z" fill="#c0c8d0"/>
          <path d="M9,22 L4,10 Q4,5 9,2 Z" fill="#e0e8f0"/>
          <path d="M9,0 L9,22 L11,18 Z" fill="rgba(255,255,255,0.4)"/>
          <!-- crosspiece -->
          <path d="M2,22 Q9,18 16,22" stroke="#8b6914" stroke-width="2.5" fill="none"/>
        </svg>
      </div>
      <div class="creature-body" id="cb3">
        <!-- Barbute Helmet -->
        <svg class="helmet-svg" viewBox="0 0 62 60" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="barb" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#b0bcc4"/>
              <stop offset="50%" stop-color="#708090"/>
              <stop offset="100%" stop-color="#404850"/>
            </linearGradient>
            <linearGradient id="barbShine" x1="0" y1="0" x2="0.4" y2="1">
              <stop offset="0%" stop-color="rgba(255,255,255,0.3)"/>
              <stop offset="100%" stop-color="rgba(255,255,255,0)"/>
            </linearGradient>
          </defs>
          <!-- full skull + neck -->
          <path d="M6,54 Q8,16 31,10 Q54,16 56,54 Q48,60 31,60 Q14,60 6,54 Z" fill="url(#barb)"/>
          <!-- T-visor opening -->
          <path d="M16,28 Q31,26 46,28 L46,32 Q31,30 16,32 Z" fill="#1a2030" opacity="0.9"/>
          <path d="M28,26 Q31,18 34,26 L34,46 Q31,48 28,46 Z" fill="#1a2030" opacity="0.8"/>
          <!-- chin opening -->
          <path d="M18,52 Q31,56 44,52 L44,58 Q31,62 18,58 Z" fill="#1a2030" opacity="0.7"/>
          <!-- shine panel -->
          <path d="M10,50 Q12,20 24,14 Q14,22 8,50 Z" fill="url(#barbShine)"/>
          <!-- cheek ridge lines -->
          <path d="M10,38 Q14,30 18,26" stroke="rgba(50,70,90,0.4)" stroke-width="1.5" fill="none"/>
          <path d="M52,38 Q48,30 44,26" stroke="rgba(50,70,90,0.4)" stroke-width="1.5" fill="none"/>
          <!-- rivets -->
          <circle cx="10" cy="44" r="1.5" fill="#506070"/>
          <circle cx="52" cy="44" r="1.5" fill="#506070"/>
          <circle cx="10" cy="52" r="1.5" fill="#506070"/>
          <circle cx="52" cy="52" r="1.5" fill="#506070"/>
          <!-- skull ridge -->
          <path d="M24,10 Q31,5 38,10" stroke="#90a0b0" stroke-width="1.5" fill="none"/>
          <!-- red plume base -->
          <path d="M26,10 Q31,4 36,10 L36,6 Q31,0 26,6 Z" fill="var(--red-crest)" opacity="0.9"/>
          <path d="M29,8 Q31,2 33,8 L33,4 Q31,-1 29,4 Z" fill="#c03030"/>
        </svg>
        <div class="eyes"><div class="eye"></div><div class="eye"></div></div>
        <div class="mouth"></div>
        <div class="blush blush-l"></div>
        <div class="blush blush-r"></div>
        <div class="pauldrons"><div class="pauldron"></div><div class="pauldron"></div></div>
      </div>
      <span class="knight-label">Dárdás</span>
    </div>

  </div><!-- /creatures -->

  <div class="scroll-roll scroll-roll-top"></div>
  <div class="card-inner">
    <div class="orn orn-tl">❧</div>
    <div class="orn orn-tr">❧</div>
    <div class="orn orn-bl">❦</div>
    <div class="orn orn-br">❦</div>

    <div class="card-content">

      <div class="heading-wrap">
        <div class="eyebrow">
          <div class="eyebrow-line"></div>
          <span class="eyebrow-text">(Megették) a termeszek</span>
          <div class="eyebrow-line"></div>
        </div>
        <h1>BEJELENTKEZÉS</h1>
        <p class="title-sub">Nyisd ki a kaput, derék vándor!</p>
      </div>

      <form id="loginForm" autocomplete="off">
        <div class="form-row">

          <div class="field">
            <label for="username">Felhasználónév</label>
            <div class="input-wrap">
              <input type="text" id="username" placeholder="Írd be neved…" required autocomplete="off">
            </div>
          </div>

          <div class="field">
            <label for="password">Jelszó</label>
            <div class="input-wrap">
              <input type="password" id="password" placeholder="Titkos igéd…" required autocomplete="off">
              <button type="button" class="pw-toggle" id="pwToggle" aria-label="Jelszó megjelenítése">
                <svg id="iconOpen" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                  <circle cx="12" cy="12" r="3"/>
                </svg>
                <svg id="iconClosed" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none">
                  <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/>
                  <line x1="1" y1="1" x2="23" y2="23"/>
                </svg>
              </button>
            </div>
          </div>

        </div>

        <div class="btn-wrap">
          <button type="submit">
            <div class="btn-shimmer"></div>
            Belépés a Várba
          </button>
        </div>

      </form>

      <p id="uzenet"></p>

      <div class="footer-link">
        Még nincs fiókod? <a href="regisztracio.html">Regisztrálj a Céhbe</a>
      </div>

    </div>
  </div>
  <div class="scroll-roll scroll-roll-bot">
    <div class="wax-seal">⚜</div>
  </div>

</div><!-- /GIGADIV -->

<script>
/* ── STARS ── */
const starsEl = document.getElementById('stars');
for (let i = 0; i < 80; i++) {
  const s = document.createElement('div');
  s.className = 'star-dot';
  const size = Math.random() * 2.5 + 0.5;
  s.style.cssText = `
    width:${size}px; height:${size}px;
    top:${Math.random()*100}%;
    left:${Math.random()*100}%;
    --d:${(Math.random()*3+1.5).toFixed(1)}s;
    --dl:${(Math.random()*5).toFixed(1)}s;
  `;
  starsEl.appendChild(s);
}

/* ── FIREFLIES ── */
const ffEl = document.getElementById('fireflies');
for (let i = 0; i < 18; i++) {
  const f = document.createElement('div');
  f.className = 'firefly';
  f.style.cssText = `
    left:${Math.random()*100}%;
    bottom:${8 + Math.random()*30}%;
    --fm:${(Math.random()*6+5).toFixed(1)}s;
    --fb:${(Math.random()*1.5+0.8).toFixed(1)}s;
    --fd:${(Math.random()*4).toFixed(1)}s;
  `;
  ffEl.appendChild(f);
}

/* ── GOLD SPARKS on explosion ── */
const sparksEl = document.getElementById('sparks');
const sparkColors = ['#f0c030','#e08820','#c8960a','#ff8020','#fff0a0'];
for (let i = 0; i < 24; i++) {
  const s = document.createElement('div');
  s.className = 'spark';
  const a = (Math.random() * 360) * Math.PI / 180;
  const d = 80 + Math.random() * 200;
  s.style.cssText = `
    width:${4+Math.random()*6}px; height:${4+Math.random()*6}px;
    left:50%; top:50%;
    background:${sparkColors[Math.floor(Math.random()*sparkColors.length)]};
    box-shadow:0 0 6px currentColor;
    --sx:${Math.cos(a)*d}px; --sy:${Math.sin(a)*d}px;
    --sd:${(0.6+Math.random()*0.6).toFixed(2)}s;
    --sdl:${(0.45+Math.random()*0.3).toFixed(2)}s;
  `;
  sparksEl.appendChild(s);
}

/* ── FORM ── */
const form = document.getElementById('loginForm');
const msg  = document.getElementById('uzenet');

form.addEventListener('submit', function(e) {
  e.preventDefault();
  const u = document.getElementById('username').value.trim();
  const p = document.getElementById('password').value.trim();
  msg.className = ''; msg.textContent = '';
  void msg.offsetWidth;
  if (!u || !p) {
    msg.textContent = '⚔ Minden mezőt ki kell tölteni, vándor! ⚔';
    msg.className = 'err';
    shakeCreatures();
    return;
  }
  msg.textContent = '✦ Üdvözöllek a Királyságban! A kapu nyílik… ✦';
  msg.className = 'ok';
  winkCreatures();
});

/* ── PW TOGGLE ── */
const pwInput    = document.getElementById('password');
const pwToggle   = document.getElementById('pwToggle');
const iconOpen   = document.getElementById('iconOpen');
const iconClosed = document.getElementById('iconClosed');
let pwVisible    = false;

pwToggle.addEventListener('click', function() {
  pwVisible = !pwVisible;
  pwInput.type = pwVisible ? 'text' : 'password';
  iconOpen.style.display   = pwVisible ? 'none'  : 'block';
  iconClosed.style.display = pwVisible ? 'block' : 'none';
  setCreatureState(pwVisible ? 'shy' : 'normal');
});

/* ── CREATURES ── */
const bodies = [
  document.getElementById('cb1'),
  document.getElementById('cb2'),
  document.getElementById('cb3'),
];

function setCreatureState(state) {
  bodies.forEach(b => {
    b.classList.remove('looking-away', 'closed');
    if (state === 'shy')  b.classList.add('looking-away');
  });
}

function winkCreatures() {
  bodies.forEach((b, i) => {
    setTimeout(() => {
      b.classList.add('closed');
      setTimeout(() => b.classList.remove('closed'), 600);
    }, i * 130);
  });
}

function shakeCreatures() {
  const creatures = document.querySelectorAll('.creature');
  creatures.forEach((c, i) => {
    setTimeout(() => {
      c.style.animation = 'none';
      void c.offsetWidth;
      c.style.animation = '';
    }, i * 80);
  });
}

/* ── MOUSE TILT ── */
const card = document.querySelector('.GIGADIV');
let ready = false;
setTimeout(() => { ready = true; }, 1600);

document.addEventListener('mousemove', (e) => {
  if (!ready) return;
  const rx = ((e.clientY / window.innerHeight) - 0.5) * -4;
  const ry = ((e.clientX / window.innerWidth)  - 0.5) *  4;
  card.style.transform = `perspective(1200px) rotateX(${rx}deg) rotateY(${ry}deg)`;
});
document.addEventListener('mouseleave', () => { card.style.transform = ''; });
</script>
<script src="bejelentkezes.js"></script>
</body>
</html>
