/* ═══════════════════════════════════════════════════
   ROOT
═══════════════════════════════════════════════════ */
*, *::before, *::after { box-sizing:border-box; margin:0; padding:0; }

:root {
  /* Sky palette */
  --sky-top:    #1a0a2e;
  --sky-mid:    #3d1c6e;
  --sky-hor:    #a0522d;
  --sky-dawn:   #ff7043;
  --sky-glow:   #ffb347;

  /* Ground */
  --grass-dark: #1a3a0a;
  --grass-mid:  #2d5a1b;
  --grass-lite: #4a7c2f;
  --dirt:       #5c3a1e;
  --path:       #8b6914;

  /* Card/parchment */
  --parch:      #f4e4b8;
  --parch-dark: #d4b896;
  --parch-mid:  #e8d4a0;
  --ink:        #2c1810;
  --ink-soft:   #5c3a28;
  --ink-faint:  #8b6048;
  --border-ink: #3d2010;

  /* Accents */
  --gold:       #c8960a;
  --gold-lite:  #f0c030;
  --gold-dark:  #7a5800;
  --red-crest:  #8b1a1a;
  --steel:      #8090a0;
  --steel-lite: #b0c0d0;
  --steel-dark: #404858;

  /* UI */
  --shadow:     rgba(0,0,0,0.5);
  --shadow-sm:  rgba(0,0,0,0.25);

  --font-title:   'Cinzel Decorative', serif;
  --font-heading: 'Cinzel', serif;
  --font-body:    'IM Fell English', serif;
  --font-label:   'Cinzel', serif;

  --ease-expo:   cubic-bezier(0.16,1,0.3,1);
  --ease-spring: cubic-bezier(0.34,1.56,0.64,1);
  --ease-bounce: cubic-bezier(0.68,-0.55,0.265,1.55);
}

html, body { width:100%; min-height:100vh; overflow-x:hidden; }

body {
  background: var(--sky-top);
  font-family: var(--font-body);
  cursor: default;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
}

/* ═══════════════════════════════════════════════════
   SKY — layered gradient with stars
═══════════════════════════════════════════════════ */
.sky {
  position: fixed;
  inset: 0;
  z-index: 0;
  background: linear-gradient(
    to bottom,
    #0d0520 0%,
    #1a0a2e 18%,
    #3d1c6e 38%,
    #7a3020 52%,
    #c05020 62%,
    #e07830 70%,
    #f0a050 76%,
    #f8c070 82%,
    #ffe090 88%,
    #fff5c0 100%
  );
  animation: skyShift 12s ease-in-out infinite alternate;
}
@keyframes skyShift {
  0%   { filter: brightness(0.85) hue-rotate(-5deg); }
  100% { filter: brightness(1.05) hue-rotate(5deg); }
}

/* ── STARS ── */
.stars {
  position: fixed;
  inset: 0 0 40% 0;
  z-index: 1;
  pointer-events: none;
  overflow: hidden;
}
.star-dot {
  position: absolute;
  border-radius: 50%;
  background: #fff;
  animation: twinkle var(--d,3s) ease-in-out var(--dl,0s) infinite alternate;
}
@keyframes twinkle {
  from { opacity:0.1; transform:scale(0.6); }
  to   { opacity:0.9; transform:scale(1.2); }
}

/* ── MOON ── */
.moon {
  position: fixed;
  top: 6%;
  right: 12%;
  width: 70px;
  height: 70px;
  z-index: 2;
  animation: moonFloat 8s ease-in-out infinite alternate;
}
.moon-body {
  width: 70px; height: 70px;
  border-radius: 50%;
  background: radial-gradient(circle at 35% 35%, #fffde0, #e8d070);
  box-shadow: 0 0 30px rgba(255,240,100,0.6), 0 0 80px rgba(255,220,50,0.3);
}
.moon-body::before {
  content:'';
  position:absolute;
  top:12px; left:15px;
  width:16px; height:14px;
  border-radius:50%;
  background:rgba(180,160,40,0.3);
  box-shadow: 18px 8px 0 rgba(180,160,40,0.2), 8px 22px 0 rgba(180,160,40,0.25);
}
@keyframes moonFloat {
  from { transform:translateY(0) rotate(-3deg); filter:brightness(0.9); }
  to   { transform:translateY(-12px) rotate(3deg); filter:brightness(1.1); }
}

/* ── MOON GLOW HALO ── */
.moon-glow {
  position: absolute;
  inset: -30px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255,240,100,0.15) 0%, transparent 70%);
  animation: moonGlow 4s ease-in-out infinite alternate;
}
@keyframes moonGlow {
  from { transform:scale(1); opacity:0.7; }
  to   { transform:scale(1.2); opacity:1; }
}

/* ── CLOUDS ── */
.cloud {
  position: fixed;
  z-index: 2;
  pointer-events: none;
  animation: cloudDrift var(--cd, 60s) linear infinite;
  opacity: 0.7;
}
.cloud svg { display:block; }
@keyframes cloudDrift {
  from { transform:translateX(-300px); }
  to   { transform:translateX(calc(100vw + 300px)); }
}

/* ═══════════════════════════════════════════════════
   BACKGROUND LANDSCAPE — 2D ILLUSTRATED LAYERS
═══════════════════════════════════════════════════ */

/* ── FAR MOUNTAINS ── */
.mountains {
  position: fixed;
  bottom: 28%;
  left: 0; right: 0;
  z-index: 3;
  pointer-events: none;
}
.mountains svg { width:100%; display:block; }

/* ── VILLAGE SILHOUETTE ── */
.village-far {
  position: fixed;
  bottom: 22%;
  left: 0; right: 0;
  z-index: 4;
  pointer-events: none;
  animation: villageSway 20s ease-in-out infinite alternate;
}
@keyframes villageSway {
  from { filter: brightness(0.85); }
  to   { filter: brightness(1.0); }
}

/* ── TREES BACK ROW ── */
.trees-back {
  position: fixed;
  bottom: 18%;
  left: 0; right: 0;
  z-index: 5;
  pointer-events: none;
}

/* ── GROUND LAYERS ── */
.ground-far {
  position: fixed;
  bottom: 0; left: 0; right: 0;
  height: 32%;
  z-index: 6;
  background: linear-gradient(to bottom, var(--grass-dark) 0%, #0f2008 100%);
  clip-path: polygon(0 15%, 8% 8%, 15% 12%, 22% 6%, 30% 10%, 38% 4%, 45% 9%, 52% 3%, 60% 8%, 68% 2%, 75% 7%, 82% 1%, 90% 6%, 100% 3%, 100% 100%, 0 100%);
}

.ground-mid {
  position: fixed;
  bottom: 0; left: 0; right: 0;
  height: 22%;
  z-index: 7;
  background: linear-gradient(to bottom, var(--grass-mid) 0%, #1a3008 100%);
  clip-path: polygon(0 20%, 5% 12%, 12% 18%, 20% 8%, 28% 16%, 36% 6%, 44% 14%, 52% 5%, 60% 13%, 68% 3%, 76% 11%, 84% 4%, 92% 12%, 100% 5%, 100% 100%, 0 100%);
}

.ground-near {
  position: fixed;
  bottom: 0; left: 0; right: 0;
  height: 13%;
  z-index: 8;
  background: linear-gradient(to bottom, var(--grass-lite) 0%, var(--grass-mid) 100%);
  clip-path: polygon(0 30%, 4% 18%, 9% 25%, 15% 10%, 22% 22%, 29% 8%, 36% 20%, 43% 6%, 50% 18%, 57% 4%, 64% 16%, 71% 5%, 78% 18%, 85% 7%, 92% 20%, 100% 10%, 100% 100%, 0 100%);
}

/* ── FOREGROUND TREES ── */
.trees-fore {
  position: fixed;
  bottom: 10%;
  left: 0; right: 0;
  z-index: 9;
  pointer-events: none;
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  padding: 0 20px;
}

/* ── PATH ── */
.path-ground {
  position: fixed;
  bottom: 0; left: 0; right: 0;
  height: 11%;
  z-index: 10;
  pointer-events: none;
}
.path-ground svg { width:100%; height:100%; }

/* ── FIREFLIES ── */
.firefly {
  position: fixed;
  width: 5px; height: 5px;
  border-radius: 50%;
  background: #c8ff60;
  z-index: 11;
  pointer-events: none;
  box-shadow: 0 0 6px #c8ff60, 0 0 12px rgba(200,255,96,0.5);
  animation:
    fireflyMove var(--fm, 8s) ease-in-out var(--fd, 0s) infinite alternate,
    fireflyBlink var(--fb, 1.5s) ease-in-out var(--fd, 0s) infinite alternate;
}
@keyframes fireflyMove {
  0%   { transform:translate(0,0); }
  25%  { transform:translate(30px,-20px); }
  50%  { transform:translate(-20px,-40px); }
  75%  { transform:translate(40px,-10px); }
  100% { transform:translate(-10px,-30px); }
}
@keyframes fireflyBlink {
  0%,100% { opacity:0.1; }
  50%      { opacity:0.9; }
}

/* ═══════════════════════════════════════════════════
   EXPLOSION INTRO
═══════════════════════════════════════════════════ */
.flash-white {
  position:fixed; inset:0;
  background:#fff8e0;
  z-index:9999; pointer-events:none;
  animation:flashBoom 1.2s ease-out both;
}
@keyframes flashBoom { 0%,45%{opacity:1;} 100%{opacity:0;} }

.crash-text {
  position:fixed; top:50%; left:50%;
  font-family: var(--font-title);
  font-size: clamp(40px, 10vw, 110px);
  color: var(--gold);
  letter-spacing: 0.08em;
  pointer-events:none; z-index:400; opacity:0; white-space:nowrap;
  text-shadow: 0 0 30px rgba(255,180,0,0.8), 3px 3px 0 var(--ink);
  animation:crashBoom 1.2s var(--ease-expo) 0.4s both;
}
@keyframes crashBoom {
  0%  {opacity:0;transform:translate(-50%,-50%) scale(4) rotate(-3deg);filter:blur(20px);}
  25% {opacity:1;filter:blur(0);}
  65% {opacity:1;transform:translate(-50%,-50%) scale(0.98);}
  85% {opacity:0.5;}
  100%{opacity:0;transform:translate(-50%,-50%) scale(0.1);}
}

.wave {
  position:fixed; top:50%; left:50%;
  transform:translate(-50%,-50%); border-radius:50%;
  pointer-events:none; z-index:200; width:0; height:0;
  border:var(--bw,2px) solid var(--c,rgba(200,150,10,0.5));
  animation:waveOut var(--dur,1.2s) var(--ease-expo) var(--delay,0.45s) both;
}
.wave-1{--dur:1.2s;--delay:0.45s;--c:rgba(200,150,10,0.5);--bw:3px;}
.wave-2{--dur:1.4s;--delay:0.55s;--c:rgba(139,26,26,0.35);--bw:2px;}
.wave-3{--dur:1.6s;--delay:0.62s;--c:rgba(255,200,50,0.3);}
.wave-4{--dur:1.0s;--delay:0.70s;--c:rgba(200,150,10,0.15);--bw:6px;}
@keyframes waveOut{0%{width:0;height:0;opacity:1;}100%{width:280vmax;height:280vmax;opacity:0;}}

/* Sparks */
.spark {
  position:fixed; pointer-events:none; z-index:300; opacity:0;
  border-radius:50%;
  animation:sparkFly var(--sd,0.8s) ease-out var(--sdl,0.5s) both;
}
@keyframes sparkFly {
  0%  {opacity:1;transform:translate(0,0) scale(1);}
  100%{opacity:0;transform:translate(var(--sx,40px),var(--sy,-80px)) scale(0.2);}
}

/* ═══════════════════════════════════════════════════
   CARD — PARCHMENT SCROLL
═══════════════════════════════════════════════════ */
.GIGADIV {
  position: relative;
  z-index: 20;
  width: min(700px, 94vw);
  opacity: 0;
  margin-top: -3vh;
  animation: cardUnroll 1.1s var(--ease-expo) 0.85s forwards;
  transition: transform 0.15s ease;
}
@keyframes cardUnroll {
  0%  {opacity:0;transform:translateY(80px) scale(0.88) rotate(-1deg);filter:blur(8px);}
  55% {filter:blur(0);}
  75% {transform:translateY(-8px) scale(1.01) rotate(0.3deg);}
  88% {transform:translateY(3px) scale(0.998);}
  100%{opacity:1;transform:translateY(0) scale(1) rotate(0deg);filter:blur(0);}
}

/* ── SCROLL ROLLS (top & bottom) ── */
.scroll-roll {
  position: relative;
  height: 24px;
  z-index: 2;
  border-radius: 0;
  overflow: hidden;
}
.scroll-roll-top {
  background: linear-gradient(to bottom, #a07830, #c8a860, #e8c878, #d4a850);
  border-radius: 4px 4px 0 0;
  box-shadow: 0 -3px 8px rgba(0,0,0,0.4), inset 0 2px 0 rgba(255,255,200,0.3);
}
.scroll-roll-top::before, .scroll-roll-top::after {
  content:'';
  position:absolute; top:0; bottom:0;
  width:40px;
  background: radial-gradient(ellipse at center, #f0c840, #9a7020);
  box-shadow: inset 0 0 8px rgba(0,0,0,0.3);
}
.scroll-roll-top::before { left:0; border-radius:4px 0 0 0; }
.scroll-roll-top::after  { right:0; border-radius:0 4px 0 0; }

.scroll-roll-bot {
  background: linear-gradient(to top, #a07830, #c8a860, #e8c878, #d4a850);
  border-radius: 0 0 4px 4px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.5), inset 0 -2px 0 rgba(255,255,200,0.3);
}
.scroll-roll-bot::before, .scroll-roll-bot::after {
  content:'';
  position:absolute; top:0; bottom:0;
  width:40px;
  background: radial-gradient(ellipse at center, #f0c840, #9a7020);
  box-shadow: inset 0 0 8px rgba(0,0,0,0.3);
}
.scroll-roll-bot::before { left:0; border-radius:0 0 0 4px; }
.scroll-roll-bot::after  { right:0; border-radius:0 0 4px 0; }

/* ── CARD BODY ── */
.card-inner {
  position: relative;
  background:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='0.06'/%3E%3C/svg%3E"),
    linear-gradient(160deg, #fef8e4 0%, #f4e4b8 40%, #ecdaa0 70%, #f0e4b0 100%);
  border: 3px solid var(--gold-dark);
  border-top: none;
  border-bottom: none;
  padding: 42px 58px 46px;
  overflow: hidden;
  box-shadow:
    inset 0 0 40px rgba(160,100,0,0.12),
    0 8px 40px rgba(0,0,0,0.5);
}

/* ── ORNATE BORDER FRAME ── */
.card-inner::before {
  content:'';
  position:absolute; inset:8px;
  border:1.5px solid rgba(160,100,0,0.35);
  pointer-events:none; z-index:0;
  box-shadow: inset 0 0 20px rgba(160,100,0,0.08);
}

/* ── CORNER ORNAMENTS ── */
.card-inner::after {
  content:'✦';
  position:absolute; top:14px; left:50%;
  transform:translateX(-50%);
  font-size:16px; color:var(--gold);
  text-shadow:0 0 8px rgba(200,150,10,0.5);
  animation:ornamentPulse 3s ease-in-out infinite;
  pointer-events:none;
}
@keyframes ornamentPulse { 0%,100%{opacity:0.6;} 50%{opacity:1;} }

.card-content { position:relative; z-index:1; }

/* corner ornament divs */
.orn {
  position:absolute; font-size:20px; color:var(--gold);
  text-shadow:0 0 6px rgba(200,150,0,0.4);
  line-height:1; pointer-events:none; opacity:0;
  animation:fadeInOrn 0.4s ease 1.8s forwards;
}
@keyframes fadeInOrn { to{opacity:1;} }
.orn-tl { top:12px; left:14px; }
.orn-tr { top:12px; right:14px; }
.orn-bl { bottom:12px; left:14px; }
.orn-br { bottom:12px; right:14px; }

/* ══ WAXSEAL ── */
.wax-seal {
  position:absolute;
  bottom:-18px; left:50%;
  transform:translateX(-50%);
  width:40px; height:40px;
  border-radius:50%;
  background:radial-gradient(circle at 40% 35%, #c83030, #7a1a1a);
  border:2px solid #f0a0a0;
  box-shadow:0 4px 10px rgba(0,0,0,0.4), inset 0 2px 4px rgba(255,100,100,0.2);
  display:flex; align-items:center; justify-content:center;
  font-size:14px; color:rgba(255,220,220,0.8);
  z-index:5;
  animation:sealAppear 0.5s var(--ease-spring) 2.1s both;
}
@keyframes sealAppear { from{transform:translateX(-50%) scale(0);} to{transform:translateX(-50%) scale(1);} }

/* ═══════════════════════════════════════════════════
   SOLDIERS — peeping over card top
═══════════════════════════════════════════════════ */
.creatures {
  position: absolute;
  top: -88px;
  left: 0; right: 0;
  display: flex;
  justify-content: flex-end;
  align-items: flex-end;
  gap: 10px;
  padding-right: 48px;
  pointer-events: none;
  z-index: 25;
  opacity: 0;
  animation: soldiersRise 0.7s var(--ease-spring) 2.0s forwards;
}
@keyframes soldiersRise {
  from { opacity:0; transform:translateY(30px); }
  to   { opacity:1; transform:translateY(0); }
}

/* ── BASE CREATURE STRUCTURE ── */
.creature {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* ── HELMET ── */
.helmet {
  position: relative;
  z-index: 3;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.helmet-top {
  position: relative;
  z-index: 2;
}

/* ── CREATURE FACE (the circle body, now acts as face behind helmet) ── */
.creature-body {
  position: relative;
  border-radius: 50%;
  background: radial-gradient(circle at 38% 32%, #f5c890, #c8884a);
  border: 2px solid rgba(60,30,10,0.4);
  box-shadow: 0 3px 8px rgba(0,0,0,0.3), inset -3px -3px 8px rgba(0,0,0,0.15);
  z-index: 2;
  transition: transform 0.4s var(--ease-spring);
  overflow: visible;
}

/* soldier sizes */
.creature:nth-child(1) .creature-body { width:46px; height:46px; }
.creature:nth-child(2) .creature-body { width:54px; height:54px; }
.creature:nth-child(3) .creature-body { width:48px; height:48px; }

/* ── EYES ── */
.eyes {
  position:absolute; top:36%; left:50%;
  transform:translateX(-50%);
  display:flex; gap:9px;
  transition:transform 0.45s var(--ease-spring);
}
.creature:nth-child(1) .eyes { gap:7px; }
.creature:nth-child(3) .eyes { gap:8px; }

.eye {
  width:11px; height:13px;
  background:#fff;
  border-radius:50%;
  border:1.5px solid rgba(30,15,5,0.5);
  position:relative;
  overflow:hidden;
  transition:height 0.3s var(--ease-spring), border-radius 0.3s ease;
}
.creature:nth-child(1) .eye { width:9px; height:11px; }
.creature:nth-child(3) .eye { width:10px; height:12px; }

.eye::before {
  content:'';
  position:absolute;
  width:7px; height:7px;
  background:#1a0a00;
  border-radius:50%;
  top:50%; left:50%;
  transform:translate(-50%,-50%);
  transition:transform 0.35s var(--ease-spring);
}
.eye::after {
  content:'';
  position:absolute;
  width:2.5px; height:2.5px;
  background:rgba(255,255,255,0.95);
  border-radius:50%;
  top:18%; left:58%;
  pointer-events:none;
  transition:opacity 0.2s ease;
}

/* LOOKING AWAY */
.creature-body.looking-away .eyes {
  transform:translateX(-50%) translateX(7px);
}
.creature-body.looking-away .eye::before { transform:translate(15%,-50%); }
.creature-body.looking-away .eye { height:8px; }
.creature:nth-child(1) .creature-body.looking-away .eyes { transform:translateX(-50%) translateX(-7px); }
.creature:nth-child(1) .creature-body.looking-away .eye::before { transform:translate(-15%,-50%); }

/* CLOSED (happy wink) */
.creature-body.closed .eye {
  height:4px;
  border:none;
  border-bottom:2px solid rgba(60,30,10,0.7);
  border-radius:0 0 6px 6px;
  background:transparent;
}
.creature-body.closed .eye::before, .creature-body.closed .eye::after { opacity:0; }

/* ── MOUTH ── */
.mouth {
  position:absolute; bottom:22%; left:50%;
  transform:translateX(-50%);
  width:13px; height:6px;
  border:0 solid transparent;
  border-bottom:2.5px solid rgba(60,30,10,0.6);
  border-radius:0 0 8px 8px;
  transition:width 0.3s var(--ease-spring), border-radius 0.3s ease, height 0.3s;
}
.creature-body.looking-away .mouth {
  border-radius:8px 8px 0 0;
  height:4px; bottom:20%;
}

/* ── BLUSH ── */
.blush {
  position:absolute; bottom:26%;
  width:7px; height:4px;
  background:rgba(220,80,60,0.28);
  border-radius:50%;
  transition:opacity 0.3s ease;
}
.blush-l { left:8%; }
.blush-r { right:8%; }
.creature-body.looking-away .blush { opacity:0; }

/* ══════════════════════
   KNIGHT HELMET SVG
══════════════════════ */

/* KNIGHT 1 — Sallet helmet, axe */
.knight-1 .helmet-svg {
  position:absolute;
  bottom:60%;
  left:50%; transform:translateX(-50%);
  width:58px;
  pointer-events:none;
  z-index:5;
  filter:drop-shadow(0 3px 6px rgba(0,0,0,0.5));
}

/* KNIGHT 2 — Great helm, sword */
.knight-2 .helmet-svg {
  position:absolute;
  bottom:60%;
  left:50%; transform:translateX(-50%);
  width:68px;
  pointer-events:none;
  z-index:5;
  filter:drop-shadow(0 3px 8px rgba(0,0,0,0.5));
}

/* KNIGHT 3 — Barbute helmet, spear */
.knight-3 .helmet-svg {
  position:absolute;
  bottom:60%;
  left:50%; transform:translateX(-50%);
  width:60px;
  pointer-events:none;
  z-index:5;
  filter:drop-shadow(0 3px 6px rgba(0,0,0,0.5));
}

/* ── WEAPON (pokes up behind/beside helmet) ── */
.weapon {
  position:absolute;
  bottom:80%;
  pointer-events:none;
  z-index:4;
  filter:drop-shadow(1px 2px 4px rgba(0,0,0,0.6));
  transition:transform 0.4s var(--ease-spring);
}
.weapon-1 { right:-8px; }
.weapon-2 { left:-10px; }
.weapon-3 { right:-6px; }

.creature-body.looking-away ~ .weapon { transform:rotate(-20deg); }

/* ── PAULDRON / SHOULDER GUARDS peeking over card ── */
.pauldrons {
  position:absolute;
  bottom:-6px; left:50%;
  transform:translateX(-50%);
  display:flex; gap:32px;
  z-index:1;
}
.pauldron {
  width:18px; height:14px;
  border-radius:6px 6px 0 0;
  border:1.5px solid var(--steel-dark);
  transition:transform 0.4s var(--ease-spring);
  box-shadow:0 -2px 6px rgba(0,0,0,0.3);
}

.creature:nth-child(1) .pauldron { background:linear-gradient(to bottom,var(--steel-lite),var(--steel)); width:16px; }
.creature:nth-child(2) .pauldron { background:linear-gradient(to bottom,#c8b060,#907020); width:20px; height:16px; }
.creature:nth-child(3) .pauldron { background:linear-gradient(to bottom,var(--steel-lite),var(--steel)); width:17px; }

/* Crest on middle knight's pauldrons */
.creature:nth-child(2) .pauldron::after {
  content:'✦';
  font-size:7px;
  color:rgba(255,220,100,0.7);
  position:absolute;
  top:1px; left:50%;
  transform:translateX(-50%);
}

.creature-body.looking-away ~ .pauldrons .pauldron:first-child { transform:rotate(-10deg); }
.creature-body.looking-away ~ .pauldrons .pauldron:last-child  { transform:rotate(10deg); }

/* ── BOBBING ── */
.creature:nth-child(1) { animation:bob1 3.2s ease-in-out 2.5s infinite; }
.creature:nth-child(2) { animation:bob2 2.8s ease-in-out 2.2s infinite; }
.creature:nth-child(3) { animation:bob3 3.5s ease-in-out 2.7s infinite; }
@keyframes bob1{0%,100%{transform:translateY(0) rotate(-0.5deg);}50%{transform:translateY(-7px) rotate(0.5deg);}}
@keyframes bob2{0%,100%{transform:translateY(0);}50%{transform:translateY(-9px);}}
@keyframes bob3{0%,100%{transform:translateY(0) rotate(0.5deg);}50%{transform:translateY(-5px) rotate(-0.5deg);}}

/* ── KNIGHT LABELS ── */
.knight-label {
  position:absolute;
  bottom:-18px; left:50%;
  transform:translateX(-50%);
  font-family:var(--font-label);
  font-size:7px;
  letter-spacing:0.1em;
  color:var(--ink-soft);
  white-space:nowrap;
  opacity:0.6;
}

/* ═══════════════════════════════════════════════════
   HEADING
═══════════════════════════════════════════════════ */
.heading-wrap { margin-bottom:36px; text-align:center; }

.eyebrow {
  display:flex; align-items:center; gap:10px;
  margin-bottom:12px; opacity:0;
  animation:fadeUp 0.5s ease 1.6s forwards;
}
.eyebrow-line {
  flex:1; height:1px;
  background:linear-gradient(90deg,transparent,var(--gold-dark),transparent);
}
.eyebrow-text {
  font-family:var(--font-label);
  font-size:9px; letter-spacing:0.25em; text-transform:uppercase;
  color:var(--ink-faint); white-space:nowrap;
}

h1 {
  font-family: var(--font-title);
  font-size: clamp(22px, 4.5vw, 56px);
  line-height: 1;
  letter-spacing: 0.06em;
  color: var(--ink);
  white-space: nowrap;
  text-shadow: 2px 2px 0 rgba(160,100,0,0.25), 0 0 30px rgba(200,150,10,0.2);
  opacity: 0;
  animation: titleSlam 0.8s var(--ease-expo) 1.1s forwards;
}
@keyframes titleSlam {
  0%  {opacity:0;transform:translateY(-30px);letter-spacing:0.2em;filter:blur(4px);}
  55% {opacity:1;filter:blur(0);transform:translateY(4px);}
  100%{opacity:1;transform:translateY(0);letter-spacing:0.06em;}
}

/* Gold decorative line under title */
h1::after {
  content:'— ✦ —';
  display:block;
  font-family:var(--font-body);
  font-size:14px;
  color:var(--gold);
  letter-spacing:0.3em;
  margin-top:8px;
  text-shadow:0 0 8px rgba(200,150,10,0.4);
  opacity:0;
  animation:fadeUp 0.5s ease 1.55s forwards;
}

.title-sub {
  margin-top:6px;
  font-family:var(--font-body);
  font-style:italic;
  font-size:13px;
  color:var(--ink-soft);
  opacity:0;
  animation:fadeUp 0.5s ease 1.65s forwards;
}

/* ═══════════════════════════════════════════════════
   FORM
═══════════════════════════════════════════════════ */
#loginForm { display:flex; flex-direction:column; gap:22px; }

.form-row {
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
}

.field { opacity:0; animation:fadeUp 0.55s var(--ease-expo) both; }
.field:nth-child(1){animation-delay:1.70s;}
.field:nth-child(2){animation-delay:1.85s;}

label {
  display:block;
  font-family:var(--font-label);
  font-size:10px; letter-spacing:0.18em; text-transform:uppercase;
  color:var(--ink-faint); margin-bottom:7px;
  transition:color 0.2s ease;
}
.field:focus-within label { color:var(--ink); }

.input-wrap { position:relative; }

input[type="text"],
input[type="password"] {
  display:block; width:100%;
  padding:13px 44px 13px 14px;
  background:rgba(255,245,210,0.7);
  border:2px solid var(--gold-dark);
  border-radius:0;
  color:var(--ink);
  font-family:var(--font-body);
  font-size:15px; font-style:italic;
  outline:none;
  transition:border-color 0.2s ease, background 0.2s ease, box-shadow 0.2s ease;
  box-shadow:inset 0 2px 6px rgba(100,60,0,0.1), 2px 2px 0 rgba(100,60,0,0.15);
  -webkit-appearance:none;
}
input::placeholder { color:var(--ink-faint); font-style:italic; opacity:0.7; }
input:hover  { border-color:var(--gold); background:rgba(255,248,220,0.85); }
input:focus  {
  border-color:var(--gold);
  background:rgba(255,252,230,0.95);
  box-shadow:inset 0 2px 6px rgba(100,60,0,0.08), 0 0 0 3px rgba(200,150,10,0.2), 2px 2px 0 rgba(100,60,0,0.15);
}
input:focus::placeholder { color:transparent; }
input:-webkit-autofill {
  -webkit-box-shadow:0 0 0 100px #fff8e0 inset;
  -webkit-text-fill-color:var(--ink); caret-color:var(--ink);
}

/* input quill decoration */
.input-wrap::before {
  content:'';
  position:absolute;
  left:-1px; top:0; bottom:0;
  width:3px;
  background:linear-gradient(to bottom, var(--gold), var(--gold-dark));
  transform:scaleY(0);
  transform-origin:top;
  transition:transform 0.3s var(--ease-expo);
}
.input-wrap:focus-within::before { transform:scaleY(1); }

/* ── CORNER BRACKETS on inputs ── */
.input-wrap::after {
  content:'';
  position:absolute;
  bottom:-2px; left:2px;
  width:0; height:2px;
  background:var(--gold);
  transition:width 0.4s var(--ease-expo);
  box-shadow:0 0 6px rgba(200,150,10,0.4);
}
.input-wrap:focus-within::after { width:calc(100% - 4px); }

/* ── PW TOGGLE ── */
.pw-toggle {
  position:absolute; right:10px; top:50%;
  transform:translateY(-50%);
  background:none; border:none; padding:4px;
  cursor:pointer; color:var(--ink-faint);
  transition:color 0.2s ease, transform 0.2s ease;
  display:flex; align-items:center; justify-content:center;
  width:28px; height:28px; margin:0; line-height:1;
}
.pw-toggle:hover { color:var(--gold-dark); transform:translateY(-50%) scale(1.15); }
.pw-toggle svg { display:block; width:17px; height:17px; pointer-events:none; }

/* ═══════════════════════════════════════════════════
   BUTTON
═══════════════════════════════════════════════════ */
.btn-wrap { opacity:0; animation:fadeUp 0.5s ease 2.0s forwards; }

button[type="submit"] {
  position:relative; display:block; width:100%;
  padding:17px 24px;
  background:linear-gradient(to bottom, #c8960a, #906600, #b88000, #e0aa10);
  border:2px solid var(--gold-dark);
  border-radius:0; color:var(--parch);
  font-family:var(--font-title); font-size:18px;
  letter-spacing:0.2em; text-transform:uppercase;
  cursor:pointer; overflow:hidden;
  text-shadow:0 1px 3px rgba(0,0,0,0.5), 0 0 10px rgba(0,0,0,0.3);
  box-shadow:0 4px 0 var(--gold-dark), 0 6px 16px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,240,150,0.3);
  transition:
    transform 0.18s var(--ease-spring),
    box-shadow 0.18s ease,
    filter 0.18s ease,
    letter-spacing 0.25s ease;
}
button[type="submit"]::before {
  content:'⚔';
  position:absolute; left:20px; top:50%; transform:translateY(-50%);
  font-size:16px; opacity:0.7;
  transition:transform 0.3s var(--ease-spring);
}
button[type="submit"]::after {
  content:'⚔';
  position:absolute; right:20px; top:50%; transform:translateY(-50%) scaleX(-1);
  font-size:16px; opacity:0.7;
  transition:transform 0.3s var(--ease-spring);
}
button[type="submit"]:hover {
  transform:translateY(-3px);
  filter:brightness(1.1);
  letter-spacing:0.24em;
  box-shadow:0 7px 0 var(--gold-dark), 0 10px 24px rgba(0,0,0,0.45), inset 0 1px 0 rgba(255,240,150,0.4);
}
button[type="submit"]:hover::before  { transform:translateY(-50%) rotate(-15deg); }
button[type="submit"]:hover::after   { transform:translateY(-50%) scaleX(-1) rotate(-15deg); }
button[type="submit"]:active {
  transform:translateY(2px);
  box-shadow:0 2px 0 var(--gold-dark), 0 3px 8px rgba(0,0,0,0.4);
  transition-duration:0.07s;
}

/* Shimmer */
.btn-shimmer {
  position:absolute; top:0; left:-80%; width:40%; height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,200,0.25),transparent);
  transform:skewX(-20deg);
  animation:shimmer 4s ease-in-out 2.8s infinite;
}
@keyframes shimmer { 0%{left:-80%;} 35%{left:140%;} 100%{left:140%;} }

/* ═══════════════════════════════════════════════════
   MESSAGE & FOOTER
═══════════════════════════════════════════════════ */
#uzenet {
  font-family:var(--font-body); font-style:italic;
  font-size:13px; letter-spacing:0.05em; text-align:center;
  min-height:20px; color:transparent; margin-top:6px;
  opacity:0; animation:fadeUp 0.3s ease 2.2s forwards;
}
#uzenet.ok  { color:#3a6a1a; animation:msgSlide 0.4s var(--ease-expo) both; text-shadow:0 1px 0 rgba(255,255,200,0.5); }
#uzenet.err { color:var(--red-crest); animation:msgShake 0.45s ease both; }
@keyframes msgSlide { from{opacity:0;transform:translateY(-5px);}to{opacity:1;transform:translateY(0);} }
@keyframes msgShake { 0%{transform:translateX(0);}18%{transform:translateX(-8px);}36%{transform:translateX(6px);}54%{transform:translateX(-4px);}72%{transform:translateX(3px);}100%{transform:translateX(0);opacity:1;} }

.footer-link {
  margin-top:24px; padding-top:20px;
  border-top:1px solid rgba(160,100,0,0.25);
  text-align:center;
  font-family:var(--font-body); font-style:italic;
  font-size:13px; color:var(--ink-faint);
  opacity:0; animation:fadeUp 0.4s ease 2.3s forwards;
}
a {
  color:var(--gold-dark); text-decoration:none; font-weight:400;
  position:relative; transition:color 0.2s ease;
  font-style:italic;
}
a::after {
  content:''; position:absolute; bottom:-1px; left:0;
  width:100%; height:1px; background:var(--gold-dark);
  transform:scaleX(0); transform-origin:right; transition:transform 0.25s ease;
}
a:hover { color:var(--gold); }
a:hover::after { background:var(--gold); transform:scaleX(1); transform-origin:left; }

/* ═══════════════════════════════════════════════════
   DECORATIVE TREES (2D illustrated)
═══════════════════════════════════════════════════ */
.tree-2d {
  position:relative;
  display:inline-flex;
  flex-direction:column;
  align-items:center;
  animation:treeSway var(--ts,6s) ease-in-out var(--td,0s) infinite alternate;
  transform-origin:center bottom;
  filter:drop-shadow(2px 4px 6px rgba(0,0,0,0.4));
}
@keyframes treeSway {
  from { transform:rotate(var(--tr1,-1.5deg)); }
  to   { transform:rotate(var(--tr2,1.5deg)); }
}

/* ═══════════════════════════════════════════════════
   UTILITY
═══════════════════════════════════════════════════ */
@keyframes fadeUp { from{opacity:0;transform:translateY(8px);}to{opacity:1;transform:translateY(0);} }

/* ═══════════════════════════════════════════════════
   RESPONSIVE
═══════════════════════════════════════════════════ */
@media (max-width:600px) {
  .card-inner { padding:30px 24px 38px; }
  h1 { font-size:28px; }
  .form-row { grid-template-columns:1fr; }
  .creatures { padding-right:20px; gap:6px; }
  .creature-body { transform:scale(0.85); }
  .trees-fore { display:none; }
}

@media (prefers-reduced-motion:reduce) {
  *,*::before,*::after { animation-duration:0.01ms !important; animation-iteration-count:1 !important; }
  .GIGADIV,.creatures,h1,.field,.eyebrow,.title-sub,.btn-wrap,
  #uzenet,.footer-link { opacity:1 !important; transform:none !important; }
}
